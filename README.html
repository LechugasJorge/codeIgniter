<!DOCTYPE html>
<html>
<head>
<title>README.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="mi-primer-libro-codeigniter-%F0%9F%9A%80">MI PRIMER LIBRO CodeIgniter 🚀</h1>
<p>Bienvenido a este repositorio dedicado a recolectar diversos ejercicios para aprender a usar el framework CodeIgniter. Este repositorio está diseñado para ayudar a desarrolladores de todos los niveles a mejorar sus habilidades en CodeIgniter a través de ejemplos prácticos y ejercicios.</p>
<h2 id="tabla-de-contenidos-%F0%9F%93%91">Tabla de Contenidos 📑</h2>
<ul>
<li><a href="#mi-primer-libro-codeigniter-">MI PRIMER LIBRO CodeIgniter 🚀</a>
<ul>
<li><a href="#tabla-de-contenidos-">Tabla de Contenidos 📑</a></li>
<li><a href="#descripci%C3%B3n-">Descripción 📝</a></li>
<li><a href="#requisitos-%EF%B8%8F">Requisitos 🛠️</a></li>
<li><a href="#instalaci%C3%B3n-">Instalación 📥</a></li>
<li><a href="#ejercicios-">Ejercicios 📚</a></li>
<li><a href="#referencias-">Referencias 🔗</a></li>
<li><a href="#copiar-c%C3%B3digo">Copiar código</a></li>
</ul>
</li>
<li><a href="#codeigniter">CodeIgniter</a></li>
<li><a href="#herramientas-necesarias-para-programar-en-codeigniter">Herramientas Necesarias para Programar en CodeIgniter</a>
<ul>
<li><a href="#pasos-b%C3%A1sicos-para-configurar-tu-entorno">Pasos Básicos para Configurar tu Entorno</a></li>
</ul>
</li>
<li><a href="#extensiones-%C3%BAtiles-para-programar-con-codeigniter">Extensiones Útiles para Programar con CodeIgniter</a>
<ul>
<li><a href="#visual-studio-code">Visual Studio Code</a></li>
</ul>
</li>
<li><a href="#instalaci%C3%B3n-manual-de-codeigniter-desde-el-repositorio">Instalación Manual de CodeIgniter desde el Repositorio</a>
<ul>
<li><a href="#1-requisitos-previos">1. Requisitos Previos</a></li>
<li><a href="#2-clonar-el-repositorio-de-codeigniter">2. Clonar el Repositorio de CodeIgniter</a></li>
</ul>
</li>
<li><a href="#estructura-de-carpetas-de-codeigniter">Estructura de Carpetas de CodeIgniter</a></li>
<li><a href="#archivo-env-en-codeigniter">Archivo .env en CodeIgniter</a>
<ul>
<li><a href="#activaci%C3%B3n-del-archivo-env">Activación del Archivo .env</a></li>
<li><a href="#contenido-del-archivo-env">Contenido del Archivo .env</a></li>
</ul>
</li>
<li><a href="#herramienta-de-l%C3%ADnea-de-comandos-de-codeigniter-spark">Herramienta de Línea de Comandos de CodeIgniter spark</a></li>
<li><a href="#configuraci%C3%B3n-inicial">Configuración inicial</a>
<ul>
<li><a href="#configuraci%C3%B3n-inicial-del-archivo-appphp">Configuración Inicial del Archivo app.php</a></li>
<li><a href="#configuraci%C3%B3n-del-archivo-databasephp">Configuración del Archivo Database.php</a></li>
</ul>
</li>
<li><a href="#patr%C3%B3n-mvc-modelo-vista-controlador-">Patrón MVC (Modelo-Vista-Controlador) 🌟</a>
<ul>
<li><a href="#qu%C3%A9-es-mvc-">¿Qué es MVC? 🤔</a>
<ul>
<li><a href="#componentes-de-mvc-">Componentes de MVC 🧩</a></li>
<li><a href="#flujo-de-trabajo-en-mvc-">Flujo de Trabajo en MVC 🚦</a></li>
<li><a href="#descripci%C3%B3n-del-flujo-">Descripción del Flujo 🔄</a></li>
<li><a href="#diagrama-detallado">Diagrama detallado</a></li>
<li><a href="#ventajas-del-mvc-">Ventajas del MVC 🌟</a></li>
<li><a href="#desventajas-del-mvc-">Desventajas del MVC 😕</a></li>
<li><a href="#ejemplos-de-uso-">Ejemplos de Uso 🌐</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#controllers">Controllers</a>
<ul>
<li><a href="#creaci%C3%B3n-de-un-controlador">Creación de un Controlador</a></li>
<li><a href="#funciones-de-un-controlador">Funciones de un Controlador</a></li>
<li><a href="#cargar-vistas-en-el-controlador">Cargar Vistas en el Controlador</a></li>
<li><a href="#pasar-datos-a-la-vista">Pasar Datos a la Vista</a></li>
<li><a href="#cargar-modelos-en-el-controlador">Cargar Modelos en el Controlador</a></li>
<li><a href="#redireccionar-en-un-controlador">Redireccionar en un Controlador</a></li>
<li><a href="#controladores-restful">Controladores RESTful</a></li>
<li><a href="#seguridad-en-los-controladores">Seguridad en los Controladores</a></li>
<li><a href="#ejemplo-de-un-controlador">Ejemplo de un Controlador</a></li>
</ul>
</li>
<li><a href="#explicaci%C3%B3n-de-la-clase-basecontroller">Explicación de la Clase BaseController</a></li>
<li><a href="#enrutamiento-en-codeigniter-4">Enrutamiento en CodeIgniter 4</a>
<ul>
<li><a href="#definici%C3%B3n-de-rutas">Definición de rutas</a>
<ul>
<li><a href="#secciones-de-una-ruta-en-codeigniter-4">Secciones de una Ruta en CodeIgniter 4</a></li>
</ul>
</li>
<li><a href="#tipos-de-enrutamientos">Tipos de enrutamientos</a>
<ul>
<li><a href="#enrutamiento-autom%C3%A1tico">Enrutamiento Automático</a></li>
<li><a href="#enrutamiento-manual">Enrutamiento Manual</a></li>
<li><a href="#cu%C3%A1ndo-usar-cada-tipo">¿Cuándo Usar Cada Tipo?</a></li>
<li><a href="#m%C3%A9todos-relacionados-con-el-enrutamiento-autom%C3%A1tico-en-codeigniter">Métodos Relacionados con el Enrutamiento Automático en CodeIgniter</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#vistas">Vistas</a>
<ul>
<li><a href="#introducci%C3%B3n-a-las-vistas-en-codeigniter-4">Introducción a las Vistas en CodeIgniter 4</a></li>
</ul>
</li>
<li><a href="#mandar-informaci%C3%B3n-del-controlador-a-la-vista">Mandar información del controlador a la vista</a></li>
<li><a href="#retornar-mas-de-una-vista">Retornar mas de una vista</a></li>
<li><a href="#layouts">Layouts</a>
<ul>
<li><a href="#implementaci%C3%B3n-de-un-layout-en-codeigniter">Implementación de un Layout en CodeIgniter</a></li>
<li><a href="#1-creaci%C3%B3n-del-layout-principal">1. Creación del Layout Principal</a></li>
<li><a href="#2-uso-del-layout-en-un-controlador">2. Uso del Layout en un Controlador</a></li>
<li><a href="#3-creaci%C3%B3n-de-vistas-espec%C3%ADficas">3. Creación de Vistas Específicas</a></li>
<li><a href="#ejemplo-de-layout">Ejemplo de Layout</a></li>
<li><a href="#llamar-una-vista-desde-el-layout">Llamar una vista desde el layout</a></li>
</ul>
</li>
<li><a href="#conexi%C3%B3n-a-base-de-datos">Conexión a Base de Datos</a></li>
<li><a href="#modelos-en-codeigniter-4">Modelos en CodeIgniter 4</a>
<ul>
<li><a href="#qu%C3%A9-son-los-modelos-en-codeigniter-4-%EF%B8%8F">¿Qué son los Modelos en CodeIgniter 4? 🛠️</a></li>
<li><a href="#para-qu%C3%A9-se-usan-los-modelos-">¿Para qué se usan los Modelos? 🎯</a></li>
<li><a href="#c%C3%B3mo-usar-los-modelos-en-codeigniter-4-">Cómo Usar los Modelos en CodeIgniter 4 📝</a>
<ul>
<li><a href="#crear-un-modelo">Crear un Modelo</a></li>
</ul>
</li>
<li><a href="#usar-un-modelo">Usar un Modelo</a></li>
<li><a href="#m%C3%A9todos-comunes-de-los-modelos-">Métodos Comunes de los Modelos 📚</a></li>
<li><a href="#ejemplos-de-uso--1">Ejemplos de Uso 🧩</a></li>
<li><a href="#configuraci%C3%B3n-adicional-%EF%B8%8F">Configuración Adicional 🛠️</a>
<ul>
<li><a href="#validaci%C3%B3n-de-datos">Validación de Datos</a></li>
<li><a href="#callbacks">Callbacks</a></li>
</ul>
</li>
<li><a href="#propiedades-de-la-tabla-a-consultar">Propiedades de la tabla a consultar</a>
<ul>
<li><a href="#ejemplo-de-un-modelo">ejemplo de un modelo</a></li>
</ul>
</li>
<li><a href="#funciones-de-modelos">Funciones de modelos</a></li>
</ul>
</li>
<li><a href="#constructor-del-controlador--instancia-al-modelo">Constructor del controlador- instancia al modelo</a></li>
<li><a href="#funci%C3%B3n-findall">Función findAll();</a>
<ul>
<li><a href="#qu%C3%A9-es-findall">¿Qué es findAll()?</a></li>
</ul>
</li>
<li><a href="#funci%C3%B3n-find">Función find()</a>
<ul>
<li><a href="#qu%C3%A9-hace-la-funci%C3%B3n-find">¿Qué hace la función find()?</a></li>
</ul>
</li>
<li><a href="#funci%C3%B3n-insert-y-getinsertid">FUNCIÓN insert() Y getInsertId()</a>
<ul>
<li><a href="#lamar-al-ultimo-id-insertado">Lamar al ultimo ID insertado</a></li>
</ul>
</li>
<li><a href="#funcion-update">FUNCION Update()</a></li>
<li><a href="#funcion-delete">FUNCION Delete()</a></li>
<li><a href="#funcion-purgedeleted">FUNCION purgeDeleted()</a></li>
<li><a href="#query-builder-class-en-codeigniter-4">Query Builder Class en CodeIgniter 4</a>
<ul>
<li><a href="#caracter%C3%ADsticas-de-la-query-builder-class">Características de la Query Builder Class</a></li>
<li><a href="#ejemplos-pr%C3%A1cticos">Ejemplos Prácticos</a></li>
<li><a href="#select">SELECT</a></li>
<li><a href="#insert">INSERT</a></li>
<li><a href="#update">UPDATE</a></li>
<li><a href="#delete">DELETE</a></li>
<li><a href="#ventajas">Ventajas</a></li>
<li><a href="#funcion-where-de-la-clase-query-builder">Funcion where de la clase query builder</a>
<ul>
<li><a href="#ver-ultima-query">Ver ultima query</a></li>
</ul>
</li>
<li><a href="#funci%C3%B3n-select-de-la-clase-query-builder">Función select de la clase query builder</a></li>
<li><a href="#funcion-orderby-de-la-clase-query-builder">Funcion orderBy() de la clase Query Builder</a></li>
<li><a href="#funci%C3%B3n-limit-de-query-builder">Función limit(); de Query Builder</a></li>
<li><a href="#query-builder-y-sus-demas-funciones">Query Builder y sus demas funciones</a></li>
<li><a href="#join-conquery-builder">Join conQuery Builder</a></li>
</ul>
</li>
<li><a href="#migrations-o-migraciones">Migrations o Migraciones</a>
<ul>
<li><a href="#que-son-las-migraciones">Que son las migraciones</a></li>
<li><a href="#c%C3%B3mo-ejecutar-una-migraci%C3%B3n">Cómo ejecutar una Migración</a></li>
<li><a href="#migracion-para-crear-una-tabla-y-borrarla">Migracion para crear una tabla y borrarla</a></li>
<li><a href="#migraci%C3%B3n-para-modificar-la-tabla-agregar-una-columna-y-eliminar">Migración para Modificar la Tabla (Agregar una Columna y eliminar)</a></li>
<li><a href="#regresar-a-otra-migraci%C3%B3n">Regresar a otra migración</a></li>
<li><a href="#ejecutar-una-migracion-desde-consola">Ejecutar una migracion desde consola</a></li>
</ul>
</li>
<li><a href="#seeders">Seeders</a>
<ul>
<li><a href="#donde-estan-los-seeders">Donde estan los seeders</a></li>
<li><a href="#crear-seeders-desde-cli">crear seeders desde CLI</a></li>
<li><a href="#estructura-de-un-seeder">Estructura de un seeder</a></li>
<li><a href="#ejecutar-seeder-con-cli-y-desde-un-controller">Ejecutar seeder con CLI y desde un controller</a></li>
</ul>
</li>
<li><a href="#helpers">Helpers</a></li>
</ul>
<h2 id="descripci%C3%B3n-%F0%9F%93%9D">Descripción 📝</h2>
<p>Este repositorio contiene una serie de ejercicios diseñados para enseñar los conceptos básicos y avanzados del framework CodeIgniter. Los ejercicios están organizados de manera progresiva para que puedas seguir aprendiendo paso a paso.</p>
<h2 id="requisitos-%F0%9F%9B%A0%EF%B8%8F">Requisitos 🛠️</h2>
<ul>
<li>PHP 7.4 o superior</li>
<li>Servidor web (Apache, Nginx, etc.)</li>
<li>Composer</li>
<li>MySQL o cualquier otro sistema de base de datos compatible con CodeIgniter</li>
</ul>
<h2 id="instalaci%C3%B3n-%F0%9F%93%A5">Instalación 📥</h2>
<ol>
<li>
<p>Clona este repositorio en tu máquina local:</p>
<pre class="hljs"><code><div>git <span class="hljs-built_in">clone</span> https://github.com/tu-usuario/tu-repositorio.git
</div></code></pre>
</li>
<li>
<p>Navega al directorio del proyecto:</p>
</li>
</ol>
<h2 id="ejercicios-%F0%9F%93%9A">Ejercicios 📚</h2>
<p>A continuación se detallan los ejercicios disponibles en este repositorio:</p>
<p>Introducción a CodeIgniter:
Descripción: Aprende los fundamentos de CodeIgniter, incluyendo la configuración inicial y la creación de tu primera aplicación.
Video de referencia: Curso de CodeIgniter - Introducción
Archivo de ejercicio: 01-introducción
(Agrega más ejercicios conforme vayas avanzando en el curso y en otros materiales)</p>
<h2 id="referencias-%F0%9F%94%97">Referencias 🔗</h2>
<p>Este repositorio se basa en el siguiente curso de YouTube:</p>
<p>Curso de CodeIgniter - Introducción por Juan de la Torre
Contribuciones 🤝
¡Las contribuciones son bienvenidas! Si deseas contribuir, por favor sigue estos pasos:</p>
<p>Haz un fork del repositorio.
Crea una rama con una descripción clara de tu mejora:
bash
Copiar código
git checkout -b mejora-descripción
Realiza tus cambios y haz commits con mensajes descriptivos.
Envía un pull request detallando los cambios realizados.
Licencia 📄
Este proyecto está licenciado bajo la Licencia MIT. Consulta el archivo LICENSE para obtener más detalles.</p>
<h2 id="copiar-c%C3%B3digo">Copiar código</h2>
<p>¡Listo para usar! 🚀👨‍💻 Si necesitas algo más, aquí estoy. 😊</p>
<h1 id="codeigniter">CodeIgniter</h1>
<p><img src="image-46.png" alt="alt text"></p>
<p><img src="image-47.png" alt="alt text"></p>
<p>CodeIgniter es un framework de desarrollo web para PHP. 🚀 Está diseñado para desarrolladores que necesitan un conjunto de herramientas simple y elegante para crear aplicaciones web con todas las funcionalidades necesarias. Aquí tienes algunos puntos clave sobre CodeIgniter:</p>
<ol>
<li>
<p><strong>Ligero y Rápido</strong>: CodeIgniter es conocido por ser liviano, con un tamaño mínimo y una velocidad de ejecución rápida. 🌐⚡</p>
</li>
<li>
<p><strong>MVC (Modelo-Vista-Controlador)</strong>: Utiliza el patrón de diseño MVC, lo que ayuda a separar la lógica de negocio, la lógica de presentación y los datos. Esto hace que el código sea más limpio y fácil de mantener. 📂🔄</p>
</li>
<li>
<p><strong>Configuración Mínima</strong>: Una de sus grandes ventajas es que casi no requiere configuración. Simplemente se descarga, se descomprime y ya se puede usar. 🎉🛠️</p>
</li>
<li>
<p><strong>Bibliotecas y Helpers</strong>: Incluye una amplia variedad de bibliotecas y helpers para tareas comunes, como la manipulación de formularios, el manejo de sesiones, y la validación de datos, entre otros. 📚🔧</p>
</li>
<li>
<p><strong>Comunidad y Soporte</strong>: Tiene una gran comunidad de desarrolladores que contribuyen con módulos adicionales, plugins, y soporte. 🌍🤝</p>
</li>
<li>
<p><strong>Documentación Extensa</strong>: CodeIgniter tiene una documentación muy completa y bien estructurada, lo cual es excelente para aprender y resolver dudas. 📖💡</p>
</li>
</ol>
<p>En resumen, CodeIgniter es una opción fantástica si buscas un framework de PHP que sea rápido, eficiente y fácil de usar. Si estás pensando en desarrollar una nueva aplicación web, ¡vale la pena considerarlo! 🚀💻</p>
<p>¿Hay algo más específico que te gustaría saber sobre CodeIgniter? 🤔💬</p>
<h1 id="herramientas-necesarias-para-programar-en-codeigniter">Herramientas Necesarias para Programar en CodeIgniter</h1>
<p>Para comenzar a desarrollar con CodeIgniter, necesitarás algunas herramientas básicas. Aquí tienes una lista con las más importantes:</p>
<ol>
<li>
<p><strong>Servidor Web</strong>: Necesitarás un servidor web que soporte PHP, como Apache o Nginx. Puedes instalar uno de los siguientes paquetes que incluyen todo lo necesario:</p>
<ul>
<li><strong>XAMPP</strong> (Windows, macOS, Linux): <a href="https://www.apachefriends.org/es/index.html">https://www.apachefriends.org/es/index.html</a></li>
<li><strong>WAMP</strong> (Windows): <a href="http://www.wampserver.com/">http://www.wampserver.com/</a></li>
<li><strong>MAMP</strong> (macOS): <a href="https://www.mamp.info/en/">https://www.mamp.info/en/</a></li>
<li><strong>LAMP</strong> (Linux): Puedes instalar Apache, MySQL y PHP usando el gestor de paquetes de tu distribución.</li>
</ul>
</li>
<li>
<p><strong>PHP</strong>: CodeIgniter requiere PHP. Asegúrate de tener instalada una versión compatible (PHP 7.2 o superior).</p>
<ul>
<li>Descarga PHP: <a href="https://www.php.net/downloads">https://www.php.net/downloads</a></li>
</ul>
</li>
<li>
<p><strong>Base de Datos</strong>: CodeIgniter es compatible con varias bases de datos, pero la más común es MySQL.</p>
<ul>
<li><strong>MySQL</strong>: <a href="https://www.mysql.com/">https://www.mysql.com/</a></li>
<li>También puedes usar otras bases de datos como PostgreSQL, SQLite, entre otras.</li>
</ul>
</li>
<li>
<p><strong>Editor de Código o IDE</strong>: Utiliza un buen editor de código o un entorno de desarrollo integrado (IDE) para escribir y gestionar tu código.</p>
<ul>
<li><strong>Visual Studio Code</strong>: <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></li>
<li><strong>PHPStorm</strong>: <a href="https://www.jetbrains.com/phpstorm/">https://www.jetbrains.com/phpstorm/</a></li>
<li><strong>Sublime Text</strong>: <a href="https://www.sublimetext.com/">https://www.sublimetext.com/</a></li>
</ul>
</li>
<li>
<p><strong>Composer</strong>: Aunque CodeIgniter no requiere Composer, es útil para manejar dependencias y paquetes adicionales.</p>
<ul>
<li>Descarga Composer: <a href="https://getcomposer.org/">https://getcomposer.org/</a></li>
</ul>
</li>
<li>
<p><strong>Control de Versiones</strong>: Usa un sistema de control de versiones para gestionar tu código, como Git.</p>
<ul>
<li><strong>Git</strong>: <a href="https://git-scm.com/">https://git-scm.com/</a></li>
<li><strong>GitHub</strong>: <a href="https://github.com/">https://github.com/</a></li>
</ul>
</li>
<li>
<p><strong>CodeIgniter</strong>: Por último, necesitas descargar CodeIgniter.</p>
<ul>
<li>Descarga CodeIgniter: <a href="https://codeigniter.com/download">https://codeigniter.com/download</a></li>
</ul>
</li>
</ol>
<h2 id="pasos-b%C3%A1sicos-para-configurar-tu-entorno">Pasos Básicos para Configurar tu Entorno</h2>
<ol>
<li><strong>Instala el servidor web (XAMPP, WAMP, MAMP, LAMP)</strong>.</li>
<li><strong>Configura PHP</strong> en tu servidor web.</li>
<li><strong>Configura y crea una base de datos MySQL</strong>.</li>
<li><strong>Instala un editor de código o IDE</strong> de tu elección.</li>
<li><strong>Descarga e instala Composer</strong>.</li>
<li><strong>Configura Git</strong> para el control de versiones.</li>
<li><strong>Descarga CodeIgniter</strong> y colócalo en la carpeta del servidor web (por ejemplo, <code>htdocs</code> para XAMPP).</li>
</ol>
<p>¡Listo! Ahora tienes todo lo necesario para empezar a programar en CodeIgniter. Si tienes alguna pregunta o necesitas más detalles, no dudes en preguntar. ¡Buena suerte con tu proyecto! 👨‍💻🚀</p>
<h1 id="extensiones-%C3%BAtiles-para-programar-con-codeigniter">Extensiones Útiles para Programar con CodeIgniter</h1>
<h2 id="visual-studio-code">Visual Studio Code</h2>
<ol>
<li>
<p><strong>PHP Intelephense</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Proporciona autocompletado avanzado, análisis de código, y ayudas para la navegación en PHP.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client">PHP Intelephense</a></li>
</ul>
</li>
<li>
<p><strong>PHP Debug</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Extensión para depurar código PHP usando Xdebug.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=felixfbecker.php-debug">PHP Debug</a></li>
</ul>
</li>
<li>
<p><strong>PHP DocBlocker</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Ayuda a generar automáticamente comentarios DocBlock para tus funciones y clases PHP.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=neilbrayfield.php-docblocker">PHP DocBlocker</a></li>
</ul>
</li>
<li>
<p><strong>PHP Namespace Resolver</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Facilita la gestión de namespaces en PHP, permitiendo importar y organizar automáticamente las declaraciones de uso.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=MehediDracula.php-namespace-resolver">PHP Namespace Resolver</a></li>
</ul>
</li>
<li>
<p><strong>CodeIgniter 4 Snippets</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Proporciona fragmentos de código específicos para CodeIgniter 4 para acelerar el desarrollo.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=huasofoundries.codeigniter-4-snippets">CodeIgniter 4 Snippets</a></li>
</ul>
</li>
<li>
<p><strong>Bracket Pair Colorizer</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Colorea los pares de corchetes y llaves coincidentes para facilitar la lectura del código.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=CoenraadS.bracket-pair-colorizer-2">Bracket Pair Colorizer</a></li>
</ul>
</li>
<li>
<p><strong>EditorConfig for VS Code</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Ayuda a mantener estilos de codificación consistentes entre diferentes editores y entornos.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=EditorConfig.EditorConfig">EditorConfig for VS Code</a></li>
</ul>
</li>
<li>
<p><strong>GitLens</strong>:</p>
<ul>
<li><strong>Descripción</strong>: Mejora las capacidades de Git integradas en Visual Studio Code, mostrando información sobre el historial de Git en el código.</li>
<li><strong>Instalación</strong>: <a href="https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens">GitLens</a></li>
</ul>
</li>
</ol>
<h1 id="instalaci%C3%B3n-manual-de-codeigniter-desde-el-repositorio">Instalación Manual de CodeIgniter desde el Repositorio</h1>
<p>Sigue estos pasos para instalar CodeIgniter manualmente desde su repositorio oficial:</p>
<h2 id="1-requisitos-previos">1. Requisitos Previos</h2>
<p>Asegúrate de tener lo siguiente instalado y configurado:</p>
<ul>
<li><strong>Servidor Web</strong> (Apache, Nginx, etc.)</li>
<li><strong>PHP</strong> (versión 7.2 o superior)</li>
<li><strong>Git</strong> (para clonar el repositorio)</li>
</ul>
<h2 id="2-clonar-el-repositorio-de-codeigniter">2. Clonar el Repositorio de CodeIgniter</h2>
<ol>
<li>
<p><strong>Abre una terminal</strong> o línea de comandos.</p>
</li>
<li>
<p><strong>Navega</strong> al directorio donde deseas instalar CodeIgniter. Por ejemplo:</p>
<pre class="hljs"><code><div>
<span class="hljs-built_in">cd</span> /path/to/your/webserver/root

</div></code></pre>
</li>
<li>
<p><strong>Clona el repositorio de CodeIgniter.</strong> Puedes usar el siguiente comando para la versión 4:</p>
</li>
</ol>
<pre class="hljs"><code><div>
git <span class="hljs-built_in">clone</span> https://github.com/codeigniter4/CodeIgniter4.git

</div></code></pre>
<ol start="4">
<li><strong>Configuración para Apache</strong>
Crea o edita el archivo de configuración de tu sitio en Apache (por ejemplo, en /etc/apache2/sites-available/your-site.conf) y añade lo siguiente:</li>
</ol>
<pre class="hljs"><code><div>

<span class="hljs-section">&lt;VirtualHost \*:80&gt;</span>
<span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span> your-site.local
<span class="hljs-attribute"><span class="hljs-nomarkup">DocumentRoot</span></span> /path/to/your/webserver/root/CodeIgniter4/public

    <span class="hljs-section">&lt;Directory /path/to/your/webserver/root/CodeIgniter4/public&gt;</span>
        <span class="hljs-attribute">AllowOverride</span> <span class="hljs-literal">All</span>
        <span class="hljs-attribute">Require</span> <span class="hljs-literal">all</span> granted
    <span class="hljs-section">&lt;/Directory&gt;</span>

<span class="hljs-section">&lt;/VirtualHost&gt;</span>

</div></code></pre>
<ol start="5">
<li><strong>Habilita el sitio</strong></li>
</ol>
<pre class="hljs"><code><div>
<span class="hljs-attribute">a2ensite</span> your-site.conf

</div></code></pre>
<ol start="6">
<li><strong>Reinicia Apache</strong></li>
</ol>
<pre class="hljs"><code><div>
<span class="hljs-attribute">service</span> apache2 restart

</div></code></pre>
<ol start="7">
<li><strong>Probar instalación</strong></li>
</ol>
<p>Abre tu navegador web y navega a la URL configurada (por ejemplo, <a href="http://your-site.local">http://your-site.local</a>). Si todo está configurado correctamente, deberías ver la página de bienvenida de CodeIgniter.</p>
<p>¡Listo! Ahora tienes CodeIgniter instalado y configurado manualmente desde el repositorio. Si tienes alguna pregunta o necesitas más ayuda, no dudes en decírmelo. ¡Feliz programación! 👨‍💻🚀</p>
<h1 id="estructura-de-carpetas-de-codeigniter">Estructura de Carpetas de CodeIgniter</h1>
<p>La estructura de carpetas de CodeIgniter está diseñada para organizar y separar claramente los diferentes componentes de tu aplicación web. Aquí tienes una explicación de las carpetas principales y su propósito:</p>
<ol>
<li>
<p><strong>app</strong>: Esta es la carpeta principal de tu aplicación. Aquí es donde colocas la lógica específica de tu aplicación, como controladores, modelos, vistas y otros archivos relacionados.</p>
<ul>
<li>
<p><strong>Controllers</strong>: Aquí se encuentran los controladores de tu aplicación. 🎮 Los controladores son responsables de manejar las solicitudes HTTP, procesar la lógica de negocio y cargar las vistas.</p>
</li>
<li>
<p><strong>Models</strong>: En esta carpeta se colocan los modelos de tu aplicación. 📦 Los modelos representan y manipulan los datos de tu aplicación, interactuando con la base de datos u otros sistemas de almacenamiento.</p>
</li>
<li>
<p><strong>Views</strong>: Aquí se almacenan las vistas de tu aplicación. 👀 Las vistas son archivos que contienen HTML y pueden incluir código PHP para mostrar datos dinámicos.</p>
</li>
<li>
<p><strong>Config</strong>: Contiene archivos de configuración para tu aplicación, como la configuración de la base de datos, rutas, y otros ajustes.</p>
</li>
<li>
<p><strong>Routes</strong>: Aquí puedes definir las rutas de tu aplicación, especificando qué controlador y método manejará cada solicitud HTTP.</p>
</li>
<li>
<p><strong>Helpers</strong>: Esta carpeta contiene archivos de ayuda que proporcionan funciones auxiliares reutilizables en toda tu aplicación.</p>
</li>
<li>
<p><strong>Libraries</strong>: Aquí puedes colocar tus propias bibliotecas personalizadas, que pueden proporcionar funcionalidades adicionales a tu aplicación.</p>
</li>
<li>
<p><strong>ThirdParty</strong>: Si utilizas bibliotecas de terceros que no están incluidas en CodeIgniter por defecto, puedes colocarlas aquí.</p>
</li>
</ul>
</li>
<li>
<p><strong>public</strong>: Esta carpeta es el punto de entrada público de tu aplicación y contiene los archivos accesibles desde la web.</p>
<ul>
<li>
<p><strong>index.php</strong>: Este es el archivo principal que se ejecuta cuando accedes a tu aplicación a través del navegador. Actúa como el controlador frontal de tu aplicación.</p>
</li>
<li>
<p><strong>.htaccess</strong>: Este archivo proporciona reglas de reescritura de URL para que las URL amigables sean posibles y para mejorar la seguridad de tu aplicación.</p>
</li>
</ul>
</li>
<li>
<p><strong>system</strong>: Esta carpeta contiene los archivos del núcleo de CodeIgniter, que no debes modificar. Contiene las bibliotecas y los archivos base que hacen funcionar el framework.</p>
<ul>
<li>
<p><strong>core</strong>: Aquí se encuentran las clases principales del framework, como el controlador base y el modelo base.</p>
</li>
<li>
<p><strong>database</strong>: Contiene los archivos relacionados con el manejo de la base de datos, como el driver de la base de datos y la clase de consulta.</p>
</li>
<li>
<p><strong>helpers</strong>: Aquí se encuentran las funciones auxiliares del sistema que proporcionan funcionalidades comunes.</p>
</li>
<li>
<p><strong>libraries</strong>: Contiene las bibliotecas del sistema que proporcionan funcionalidades adicionales, como el manejo de sesiones y el envío de correo electrónico.</p>
</li>
<li>
<p><strong>Config</strong>: Contiene los archivos de configuración del sistema, como la configuración de enrutamiento y la configuración de la base de datos.</p>
</li>
</ul>
</li>
<li>
<p><strong>writable</strong>: Esta carpeta es donde CodeIgniter almacena temporalmente archivos generados dinámicamente, como archivos de caché, sesiones de usuario y registros de errores.</p>
<ul>
<li>
<p><strong>cache</strong>: Aquí se almacenan los archivos de caché generados por CodeIgniter para mejorar el rendimiento de la aplicación.</p>
</li>
<li>
<p><strong>logs</strong>: Contiene los archivos de registro de errores generados por CodeIgniter.</p>
</li>
</ul>
</li>
</ol>
<p>Este es un ejemplo de la estructura</p>
<p><img src="image.png" alt="alt text"></p>
<p><img src="image-1.png" alt="alt text"></p>
<h1 id="archivo-env-en-codeigniter">Archivo .env en CodeIgniter</h1>
<p>El archivo <code>.env</code> es un archivo de configuración utilizado en CodeIgniter para definir variables de entorno y ajustes específicos de la aplicación. Contiene información sensible y parámetros que pueden variar entre entornos, como configuraciones de la base de datos, claves de cifrado y otras variables de configuración.</p>
<h2 id="activaci%C3%B3n-del-archivo-env">Activación del Archivo .env</h2>
<p>Para activar el archivo <code>.env</code> en tu aplicación CodeIgniter, debes asegurarte de que el paquete <code>vlucas/phpdotenv</code> esté instalado. Puedes instalarlo utilizando Composer ejecutando el siguiente comando en tu terminal:</p>
<pre class="hljs"><code><div>composer require vlucas/phpdotenv
</div></code></pre>
<p>Una vez instalado, debes cargar y cargar las variables de entorno del archivo .env en tu aplicación. Esto generalmente se hace en el archivo index.php ubicado en el directorio public de tu aplicación, añadiendo las siguientes líneas al principio del archivo:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">// Carga la librería dotenv</span>
$dotenv = Dotenv\Dotenv::createImmutable(<span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../'</span>);
$dotenv-&gt;load();

</div></code></pre>
<h2 id="contenido-del-archivo-env">Contenido del Archivo .env</h2>
<p>El archivo .env contiene variables de entorno en el formato NOMBRE=VALOR. Aquí hay algunos ejemplos de configuraciones comunes que puedes encontrar en este archivo:</p>
<ul>
<li><strong>CI_ENVIRONMENT</strong>: Define el entorno en el que se ejecuta la aplicación (por ejemplo, development, testing, production).</li>
<li><strong>DATABASE_HOST</strong>: El host de la base de datos.</li>
<li><strong>DATABASE_NAME</strong>: El nombre de la base de datos.</li>
<li><strong>DATABASE_USER</strong>: El nombre de usuario de la base de datos.</li>
<li><strong>DATABASE_PASS</strong>: La contraseña de la base de datos.</li>
<li><strong>APP_KEY</strong>: La clave de cifrado de la aplicación.</li>
<li><strong>SESSION_DRIVER</strong>: El controlador de sesión utilizado por la aplicación.</li>
<li><strong>BASE_URL</strong>: La URL base de la aplicación.
Es importante mantener este archivo seguro y no incluirlo en tu repositorio de código para proteger la información sensible que contiene.</li>
</ul>
<blockquote>
<p>Este archivo esta incluido en git ignore por defecto</p>
</blockquote>
<h1 id="herramienta-de-l%C3%ADnea-de-comandos-de-codeigniter-spark">Herramienta de Línea de Comandos de CodeIgniter spark</h1>
<p>Proporciona utilidades para la gestión de la aplicación, incluyendo la instalación de componentes, ejecución de migraciones de bases de datos, generación de claves de cifrado, limpieza de caché y verificación de requisitos del sistema.</p>
<pre class="hljs"><code><div>
# Instalación de Componentes
spark install &lt;nombre-componente&gt;

# Ejecución de Migraciones de Bases de Datos
spark migrate

# Generación de Claves de Cifrado
spark key:generate

# Limpiar Caché y Archivos Temporales
spark clean

# Verificar Requisitos del Sistema
spark doctor

</div></code></pre>
<h1 id="configuraci%C3%B3n-inicial">Configuración inicial</h1>
<h2 id="configuraci%C3%B3n-inicial-del-archivo-appphp">Configuración Inicial del Archivo app.php</h2>
<p>El archivo <code>app.php</code> es uno de los archivos de configuración clave en una aplicación de CodeIgniter 4. Contiene varias configuraciones importantes para tu aplicación. A continuación, se describen algunas de las configuraciones más relevantes:</p>
<ul>
<li><strong>baseURL</strong>: Define la URL base de tu aplicación.</li>
</ul>
<p><img src="image-2.png" alt="alt text"></p>
<p>remplazar por la dirección de tu carpeta public</p>
<p><img src="image-3.png" alt="alt text"></p>
<ul>
<li>
<p><strong>defaultLocale</strong>: Idioma local de tu aplicación
Los idiomas se almacenan en app/Language algunos requieren instalación</p>
</li>
<li>
<p><strong>indexPage</strong>: Especifica el nombre del archivo de entrada en las URL generadas por CodeIgniter.</p>
</li>
<li>
<p><strong>uriProtocol</strong>: Define el método que CodeIgniter usará para determinar la URI de la solicitud.</p>
</li>
<li>
<p><strong>timezone</strong>: Configura la zona horaria predeterminada para tu aplicación.</p>
</li>
<li>
<p><strong>app.baseURL</strong>: Alternativa para configurar la URL base de la aplicación.</p>
</li>
<li>
<p><strong>app.salt</strong>: Se utiliza para cifrar cookies y otras cadenas sensibles en tu aplicación.</p>
</li>
<li>
<p><strong>app.CSRFTokenName</strong> y <strong>app.CSRFHeaderName</strong>: Define el nombre del token CSRF y el nombre del encabezado HTTP donde se enviará el token CSRF.</p>
</li>
<li>
<p><strong>app.publicFilters</strong>: Permite especificar qué filtros de autorización se aplicarán a todas las rutas de tu aplicación de forma global.</p>
</li>
</ul>
<p>Estas son algunas de las configuraciones más comunes que puedes encontrar en el archivo <code>app.php</code>. Es importante revisar este archivo y ajustar las configuraciones según las necesidades específicas de tu aplicación. ¡Recuerda siempre mantener seguro este archivo y no incluir información sensible en él!</p>
<h2 id="configuraci%C3%B3n-del-archivo-databasephp">Configuración del Archivo Database.php</h2>
<p>El archivo <code>Database.php</code> es otro archivo de configuración importante en una aplicación de CodeIgniter 4. Se encuentra en el directorio <code>app/Config</code> y se utiliza para configurar la conexión a la base de datos y otros ajustes relacionados con la base de datos. A continuación, se describen algunas de las configuraciones más relevantes que puedes encontrar en este archivo:</p>
<ul>
<li><strong>default</strong>: Define la configuración predeterminada de la base de datos que se utilizará en toda la aplicación.</li>
<li><strong>hostname</strong>: El nombre del host de la base de datos.</li>
<li><strong>username</strong>: El nombre de usuario de la base de datos.</li>
<li><strong>password</strong>: La contraseña de la base de datos.</li>
<li><strong>database</strong>: El nombre de la base de datos.</li>
<li><strong>DBDriver</strong>: El controlador de la base de datos que se utilizará.</li>
<li><strong>DBPrefix</strong>: Un prefijo opcional que se añadirá a los nombres de las tablas en la base de datos.</li>
<li><strong>pConnect</strong>: Un valor booleano que indica si se deben utilizar conexiones persistentes.</li>
<li><strong>DBDebug</strong>: Un valor booleano que indica si se deben mostrar mensajes de depuración de la base de datos.</li>
<li><strong>cacheOn</strong>: Un valor booleano que indica si se debe habilitar la caché de consultas de la base de datos.</li>
<li><strong>cacheDir</strong>: La ubicación del directorio de caché de consultas de la base de datos.</li>
<li><strong>cacheAutoClear</strong>: Un valor booleano que indica si se debe limpiar automáticamente la caché de consultas de la base de datos.</li>
<li><strong>charset</strong> y <strong>DBCollat</strong>: La configuración del juego de caracteres y la colación de la base de datos.</li>
<li><strong>swapPre</strong>: Un prefijo opcional que se utilizará en lugar del prefijo predeterminado en las consultas.</li>
</ul>
<p>Estas son algunas de las configuraciones más comunes que puedes encontrar en el archivo <code>Database.php</code>. Es importante revisar este archivo y ajustar las configuraciones según las necesidades específicas de tu aplicación y tu entorno de base de datos. ¡Asegúrate de mantener seguras las credenciales de tu base de datos y de no incluirlas en el control de versiones!</p>
<h1 id="patr%C3%B3n-mvc-modelo-vista-controlador-%F0%9F%8C%9F">Patrón MVC (Modelo-Vista-Controlador) 🌟</h1>
<h2 id="%C2%BFqu%C3%A9-es-mvc-%F0%9F%A4%94">¿Qué es MVC? 🤔</h2>
<p><img src="image-48.png" alt="alt text"></p>
<p>MVC es un <strong>patrón de diseño de software</strong> que separa una aplicación en tres componentes principales: <strong>Modelo</strong>, <strong>Vista</strong> y <strong>Controlador</strong>. Esta separación facilita la gestión del código y mejora la Escalabilidad y el mantenimiento de la aplicación. Vamos a ver cada componente en detalle. 🔍</p>
<h3 id="componentes-de-mvc-%F0%9F%A7%A9">Componentes de MVC 🧩</h3>
<ol>
<li>
<p><strong>Modelo (Model) 🗃️</strong></p>
<ul>
<li><strong>Función</strong>: Gestiona los datos y la lógica de negocio. Representa la información (datos) que la aplicación utiliza y su lógica.</li>
<li><strong>Ejemplos</strong>: Clases de base de datos, lógica de validación, reglas de negocio.</li>
<li><strong>Responsabilidades</strong>:
<ul>
<li>Acceso y manipulación de datos.</li>
<li>Notificar a la vista cuando los datos cambian.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Vista (View) 👀</strong></p>
<ul>
<li><strong>Función</strong>: Se encarga de la presentación de los datos. Es la interfaz de usuario (UI) de la aplicación.</li>
<li><strong>Ejemplos</strong>: Archivos HTML, CSS, plantillas que renderizan datos.</li>
<li><strong>Responsabilidades</strong>:
<ul>
<li>Mostrar datos del modelo al usuario.</li>
<li>Enviar las interacciones del usuario al controlador.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Controlador (Controller) 🎮</strong></p>
<ul>
<li><strong>Función</strong>: Actúa como un intermediario entre el modelo y la vista. Gestiona la lógica de aplicación y las entradas del usuario.</li>
<li><strong>Ejemplos</strong>: Métodos que reciben solicitudes HTTP, lógica de flujo de aplicación.</li>
<li><strong>Responsabilidades</strong>:
<ul>
<li>Recibir entradas del usuario desde la vista.</li>
<li>Procesar la entrada (validar, interactuar con el modelo).</li>
<li>Actualizar la vista con los datos procesados.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="flujo-de-trabajo-en-mvc-%F0%9F%9A%A6">Flujo de Trabajo en MVC 🚦</h3>
<ol>
<li><strong>El Usuario Interactúa con la Vista</strong>: Por ejemplo, el usuario hace clic en un botón o envía un formulario.</li>
<li><strong>La Vista Envía la Solicitud al Controlador</strong>: La solicitud del usuario es capturada por el controlador.</li>
<li><strong>El Controlador Procesa la Solicitud</strong>:
<ul>
<li>Valida y procesa la entrada.</li>
<li>Interactúa con el modelo para obtener o modificar datos.</li>
</ul>
</li>
<li><strong>El Modelo Actualiza los Datos</strong>: Si hay cambios en los datos, el modelo los procesa y actualiza.</li>
<li><strong>El Modelo Notifica a la Vista</strong>: El modelo informa a la vista sobre los cambios en los datos.</li>
<li><strong>La Vista se Actualiza</strong>: La vista muestra la información actualizada al usuario.</li>
</ol>
<pre class="hljs"><code><div>
Flujo de MVC

 +---------------+
  |     Usuario   |
  +-------+-------+
          |
          v
  +-------+-------+
  |     Vista     |
  +-------+-------+
          |
          v
  +-------+-------+
  |  Controlador  |
  +-------+-------+
          |
          v
  +-------+-------+
  |     Modelo    |
  +-------+-------+
          |
          v
  +-------+-------+
  |     Datos     |
  +---------------+
</div></code></pre>
<h3 id="descripci%C3%B3n-del-flujo-%F0%9F%94%84">Descripción del Flujo 🔄</h3>
<ol>
<li>
<p><strong>Usuario Interactúa con la Vista</strong>:</p>
<ul>
<li>El usuario realiza una acción (como hacer clic en un botón o enviar un formulario).</li>
</ul>
</li>
<li>
<p><strong>Vista Envía la Solicitud al Controlador</strong>:</p>
<ul>
<li>La vista captura la acción del usuario y envía una solicitud al controlador correspondiente.</li>
</ul>
</li>
<li>
<p><strong>Controlador Procesa la Solicitud</strong>:</p>
<ul>
<li>El controlador recibe la solicitud, procesa la entrada (validación, lógica de negocio) e interactúa con el modelo para obtener o modificar datos.</li>
</ul>
</li>
<li>
<p><strong>Modelo Actualiza los Datos</strong>:</p>
<ul>
<li>El modelo gestiona los datos (acceso a base de datos, lógica de negocio) y actualiza el estado de los datos si es necesario.</li>
</ul>
</li>
<li>
<p><strong>Modelo Notifica a la Vista</strong>:</p>
<ul>
<li>El modelo puede notificar a la vista que los datos han cambiado o devolver los datos procesados al controlador.</li>
</ul>
</li>
<li>
<p><strong>Vista se Actualiza</strong>:</p>
<ul>
<li>La vista toma los datos del modelo (directamente o a través del controlador) y actualiza la interfaz de usuario para reflejar los cambios.</li>
</ul>
</li>
</ol>
<h3 id="diagrama-detallado">Diagrama detallado</h3>
<pre class="hljs"><code><div>
+---------------+      1. Interacción del usuario     +---------------+
|     Usuario   | ----------------------------------&gt; |     Vista     |
+---------------+                                     +---------------+
        ^                                                      |
        |                                                      v
        |                                           2. Solicitud del usuario
        |                                           a través de la vista
        |                                                      |
        |                                                      v
+---------------+                                     +---------------+
|    Controlador| &lt;--------------------------------- |     Vista     |
+---------------+       3. Envío de solicitud        +---------------+
        |                                                      |
        |                                                      v
        |  4. Interacción con el modelo para obtener           |
        |  o modificar datos                                    |
        |                                                      v
+---------------+                                     +---------------+
|     Modelo    | &lt;--------------------------------- |  Controlador  |
+---------------+       5. Envío de datos            +---------------+
        |                                                      |
        |                                                      v
        |     6. Actualización de la vista con los datos       |
        |     obtenidos/modificados                            |
        |                                                      v
+---------------+                                     +---------------+
|     Datos     |                                     |     Vista     |
+---------------+                                     +---------------+
        ^
        |
+---------------+
|     Usuario   |
+---------------+

</div></code></pre>
<h3 id="ventajas-del-mvc-%F0%9F%8C%9F">Ventajas del MVC 🌟</h3>
<ul>
<li><strong>Separación de Responsabilidades</strong>: Facilita la colaboración entre desarrolladores que trabajan en la lógica, diseño y flujo de la aplicación.</li>
<li><strong>Escalabilidad</strong>: Cada componente puede ser modificado independientemente.</li>
<li><strong>Reutilización del Código</strong>: Componentes como las vistas y modelos pueden ser reutilizados en diferentes partes de la aplicación.</li>
<li><strong>Mantenimiento</strong>: Más fácil de mantener y depurar debido a la separación de preocupaciones.</li>
</ul>
<h3 id="desventajas-del-mvc-%F0%9F%98%95">Desventajas del MVC 😕</h3>
<ul>
<li><strong>Complejidad</strong>: Puede ser más complejo y tener una curva de aprendizaje para principiantes.</li>
<li><strong>Sobrecarga</strong>: Para aplicaciones simples, el MVC puede ser una sobrecarga innecesaria.</li>
</ul>
<h3 id="ejemplos-de-uso-%F0%9F%8C%90">Ejemplos de Uso 🌐</h3>
<ul>
<li>
<p><strong>Frameworks</strong>:</p>
<ul>
<li><strong>Django</strong> (Python) 🐍</li>
<li><strong>Ruby on Rails</strong> (Ruby) 💎</li>
<li><strong>ASP.NET MVC</strong> (C#) 🖥️</li>
<li><strong>Laravel</strong> (PHP) 🐘</li>
<li><strong>Spring MVC</strong> (Java) ☕</li>
</ul>
</li>
<li>
<p><strong>Librerías/Frameworks Frontend</strong>:</p>
<ul>
<li><strong>Angular</strong> y <strong>React</strong> se basan en conceptos similares, aunque a menudo utilizan variaciones como MVM (Model-View-ViewModel) o componentes.</li>
</ul>
</li>
</ul>
<h1 id="controllers">Controllers</h1>
<p>En CodeIgniter 4, los controladores siguen siendo una parte esencial del patrón de diseño MVC (Modelo-Vista-Controlador). Sin embargo, hay algunas mejoras y cambios significativos en comparación con las versiones anteriores. Los controladores en CodeIgniter 4 actúan como intermediarios entre los modelos, las vistas y cualquier otra clase de procesamiento.</p>
<h2 id="creaci%C3%B3n-de-un-controlador">Creación de un Controlador</h2>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">// Definimos el namespace para la clase. En este caso, la clase MiControlador pertenece al namespace App\Controllers.</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-comment">// Importamos la clase Controller de CodeIgniter para que nuestra clase MiControlador pueda extenderla.</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-comment">// Definimos la clase MiControlador y la hacemos extender de la clase Controller de CodeIgniter.</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MiControlador</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span> </span>{

    <span class="hljs-comment">// Definimos el método index, que será la acción por defecto del controlador.</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// Retornamos un saludo simple.</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"¡Hola, mundo!"</span>;
    }
}
</div></code></pre>
<ul>
<li><strong>Namespace</strong>: Utiliza namespace App\Controllers;.</li>
<li><strong>Extender Controller</strong>: Tu clase debe extender CodeIgniter\Controller.</li>
</ul>
<h2 id="funciones-de-un-controlador">Funciones de un Controlador</h2>
<p>Las funciones (también llamadas métodos) dentro de un controlador se corresponden con las acciones que el controlador puede realizar.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mostrarMensaje</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Este es un mensaje desde el controlador."</span>;
}
</div></code></pre>
<blockquote>
<p>Para acceder a esta función, irías a <a href="http://tusitio.com/miControlador/mostrarMensaje">http://tusitio.com/miControlador/mostrarMensaje</a>.</p>
</blockquote>
<h2 id="cargar-vistas-en-el-controlador">Cargar Vistas en el Controlador</h2>
<p>Para cargar una vista desde un controlador, utiliza el método return view.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mostrarVista</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mi_vista'</span>);
}
</div></code></pre>
<h2 id="pasar-datos-a-la-vista">Pasar Datos a la Vista</h2>
<p>Puedes pasar datos a la vista usando un array asociativo.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Definimos un método público llamado mostrarVistaConDatos en nuestra clase.</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mostrarVistaConDatos</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Creamos un array asociativo llamado $data que contiene los datos que queremos pasar a la vista.</span>
    $data = [
        <span class="hljs-string">'titulo'</span> =&gt; <span class="hljs-string">'Título de la página'</span>, <span class="hljs-comment">// Definimos una variable 'titulo' con el valor 'Título de la página'.</span>
        <span class="hljs-string">'mensaje'</span> =&gt; <span class="hljs-string">'Mensaje para la vista'</span> <span class="hljs-comment">// Definimos una variable 'mensaje' con el valor 'Mensaje para la vista'.</span>
    ];
    <span class="hljs-comment">// Utilizamos la función view() para cargar la vista 'mi_vista' y pasamos el array $data como segundo parámetro.</span>
    <span class="hljs-comment">// Esto permite que los datos estén disponibles en la vista para su uso.</span>
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mi_vista'</span>, $data);
}

</div></code></pre>
<p>En la vista, puedes acceder a estos datos como variables.</p>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="php"><span class="hljs-meta">&lt;?</span>= $titulo <span class="hljs-meta">?&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="php"><span class="hljs-meta">&lt;?</span>= $mensaje <span class="hljs-meta">?&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<h2 id="cargar-modelos-en-el-controlador">Cargar Modelos en el Controlador</h2>
<pre class="hljs"><code><div><span class="hljs-comment">// Importamos el modelo MiModelo ubicado en el namespace App\Models.</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">MiModelo</span>;

<span class="hljs-comment">// Definimos el constructor de la clase.</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// En el constructor, creamos una instancia del modelo MiModelo y la asignamos a la propiedad $miModelo.</span>
    <span class="hljs-keyword">$this</span>-&gt;miModelo = <span class="hljs-keyword">new</span> MiModelo();
}

<span class="hljs-comment">// Definimos un método público llamado usarModelo en nuestra clase.</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">usarModelo</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Llamamos al método obtenerDatos() del modelo MiModelo para obtener los datos que queremos utilizar en la vista.</span>
    $datos = <span class="hljs-keyword">$this</span>-&gt;miModelo-&gt;obtenerDatos();
    <span class="hljs-comment">// Utilizamos la función view() para cargar la vista 'vista_datos' y pasamos los datos obtenidos del modelo como un array asociativo.</span>
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'vista_datos'</span>, [<span class="hljs-string">'datos'</span> =&gt; $datos]);
}

</div></code></pre>
<h2 id="redireccionar-en-un-controlador">Redireccionar en un Controlador</h2>
<p>Para redireccionar desde un controlador, usa el helper redirect.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Definimos un método público llamado redireccionar en nuestra clase.</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">redireccionar</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Utilizamos el helper redirect() para generar una redirección en CodeIgniter.</span>
    <span class="hljs-comment">// La función to() especifica la URL a la que se redireccionará.</span>
    <span class="hljs-keyword">return</span> redirect()-&gt;to(<span class="hljs-string">'/otraControlador/otraFuncion'</span>);
}

</div></code></pre>
<h2 id="controladores-restful">Controladores RESTful</h2>
<p>CodeIgniter 4 facilita la creación de APIs RESTful. Puedes extender la clase CodeIgniter\RESTful\ResourceController.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Definimos el namespace para la clase. En este caso, la clase MiApi pertenece al namespace App\Controllers.</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-comment">// Importamos la clase ResourceController de CodeIgniter para que nuestra clase MiApi pueda extenderla.</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">RESTful</span>\<span class="hljs-title">ResourceController</span>;

<span class="hljs-comment">// Definimos la clase MiApi y la hacemos extender de la clase ResourceController de CodeIgniter.</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MiApi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ResourceController</span> </span>{

    <span class="hljs-comment">// Definimos el método index, que será la acción por defecto del controlador para la API.</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// Retornamos una respuesta JSON con un mensaje simple.</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;respond([<span class="hljs-string">'mensaje'</span> =&gt; <span class="hljs-string">'Hola desde la API'</span>]);
    }
}
</div></code></pre>
<h2 id="seguridad-en-los-controladores">Seguridad en los Controladores</h2>
<ul>
<li><strong>Filtrado de Entrada</strong>: Usa las funciones de CodeIgniter para sanitizar datos ($this-&gt;request-&gt;getPost(), $this-&gt;request-&gt;getGet()).</li>
<li><strong>Validación de Formulario</strong>: Utiliza la librería Validation para validar datos de entrada.</li>
<li><strong>Autorización</strong>: Implementa mecanismos de control de acceso para proteger tus controladores y métodos.</li>
</ul>
<blockquote>
<p>Los controladores en CodeIgniter 4 han evolucionado para ser más robustos y flexibles, facilitando el desarrollo de aplicaciones modernas y escalables. Al comprender y utilizar estos conceptos, puedes maximizar el potencial de CodeIgniter 4 en tus proyectos. 🚀✨</p>
</blockquote>
<h2 id="ejemplo-de-un-controlador">Ejemplo de un Controlador</h2>
<pre class="hljs"><code><div><span class="hljs-comment">// Definimos el namespace para la clase. En este caso, la clase Home pertenece al namespace App\Controllers.</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-comment">// Importamos la clase BaseController para que nuestra clase Home pueda extenderla.</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>\<span class="hljs-title">BaseController</span>;

<span class="hljs-comment">// Definimos la clase Home y la hacemos extender de la clase BaseController.</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>
</span>{
    <span class="hljs-comment">// Definimos el método index, que será la acción por defecto del controlador para la página de inicio.</span>
    <span class="hljs-comment">// Se especifica que el método devuelve una cadena de texto.</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>: <span class="hljs-title">string</span>
    </span>{
        <span class="hljs-comment">// Retornamos la vista 'welcome_message'.</span>
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'welcome_message'</span>);
    }
}
</div></code></pre>
<h1 id="explicaci%C3%B3n-de-la-clase-basecontroller">Explicación de la Clase BaseController</h1>
<p>La clase <code>BaseController</code> es una clase base proporcionada por CodeIgniter que ofrece un lugar conveniente para cargar componentes y realizar funciones que son necesarias en todos tus controladores. Aquí tienes una explicación detallada de cada parte de esta clase:</p>
<ol>
<li>
<p><strong>Namespace</strong>: La clase <code>BaseController</code> está definida en el namespace <code>App\Controllers</code>, lo que significa que pertenece al directorio <code>app/Controllers</code> de tu aplicación.</p>
</li>
<li>
<p><strong>Importaciones</strong>: La clase <code>BaseController</code> importa varias clases y interfaces de CodeIgniter y del estándar PSR-3 para manejo de registros de logs. Estas importaciones permiten el uso de clases y herramientas necesarias para la construcción de controladores.</p>
</li>
<li>
<p><strong>Comentarios de Documentación</strong>: La clase <code>BaseController</code> incluye comentarios de documentación que describen su propósito y su uso. Estos comentarios son útiles para entender rápidamente la función y la forma de utilizar la clase.</p>
</li>
<li>
<p><strong>Clase Abstracta</strong>: La clase <code>BaseController</code> es abstracta, lo que significa que no puede ser instanciada directamente. Debe ser extendida por otras clases para ser utilizada.</p>
</li>
<li>
<p><strong>Propiedad <code>$request</code></strong>: Esta propiedad representa la instancia del objeto Request principal que se utiliza para manejar la solicitud HTTP. Puede ser una instancia de <code>CLIRequest</code> para solicitudes de línea de comandos o <code>IncomingRequest</code> para solicitudes HTTP entrantes.</p>
</li>
<li>
<p><strong>Propiedad <code>$helpers</code></strong>: Esta propiedad es un array que contiene los nombres de los helpers que se cargarán automáticamente al instanciar una clase que extienda <code>BaseController</code>. Los helpers proporcionan funciones útiles que pueden ser utilizadas en los controladores.</p>
</li>
<li>
<p><strong>Método <code>initController()</code></strong>: Este método es llamado automáticamente por CodeIgniter después de instanciar un controlador. Se encarga de inicializar el controlador y establecer los objetos necesarios como el Request, Response y Logger. Puedes agregar lógica adicional en este método para pre-cargar modelos, librerías, etc.</p>
</li>
</ol>
<p>La clase <code>BaseController</code> es una clase base fundamental en CodeIgniter que proporciona funcionalidades comunes y configuraciones básicas para todos los controladores de tu aplicación. Al extender esta clase en tus controladores, puedes aprovechar estas funcionalidades sin necesidad de repetir código en cada controlador individualmente.</p>
<p>Este es el archivo en español</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">HTTP</span>\<span class="hljs-title">CLIRequest</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">HTTP</span>\<span class="hljs-title">IncomingRequest</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">HTTP</span>\<span class="hljs-title">RequestInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">HTTP</span>\<span class="hljs-title">ResponseInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Log</span>\<span class="hljs-title">LoggerInterface</span>;

<span class="hljs-comment">/**
 * Clase BaseController
 *
 * BaseController proporciona un lugar conveniente para cargar componentes
 * y realizar funciones que son necesarias para todos tus controladores.
 * Extiende esta clase en cualquier controlador nuevo:
 *     class Home extends BaseController
 *
 * Por seguridad, asegúrate de declarar cualquier método nuevo como protegido o privado.
 */</span>
<span class="hljs-keyword">abstract</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BaseController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-comment">/**
     * Instancia del objeto de solicitud principal.
     *
     * <span class="hljs-doctag">@var</span> CLIRequest|IncomingRequest
     */</span>
    <span class="hljs-keyword">protected</span> $request;

    <span class="hljs-comment">/**
     * Un array de helpers para ser cargados automáticamente al
     * instanciar la clase. Estos helpers estarán disponibles
     * para todos los demás controladores que extiendan BaseController.
     *
     * <span class="hljs-doctag">@var</span> list&lt;string&gt;
     */</span>
    <span class="hljs-keyword">protected</span> $helpers = [];

    <span class="hljs-comment">/**
     * Asegúrate de declarar propiedades para cualquier propiedad que inicialices.
     * La creación de propiedades dinámicas está obsoleta en PHP 8.2.
     */</span>
    <span class="hljs-comment">// protected $session;</span>

    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initController</span><span class="hljs-params">(RequestInterface $request, ResponseInterface $response, LoggerInterface $logger)</span>
    </span>{
        <span class="hljs-comment">// No Edites Esta Línea</span>
        <span class="hljs-keyword">parent</span>::initController($request, $response, $logger);

        <span class="hljs-comment">// Precarga cualquier modelo, biblioteca, etc., aquí.</span>

        <span class="hljs-comment">// Ejemplo: $this-&gt;session = \Config\Services::session();</span>
    }
}
</div></code></pre>
<p>El controlador prácticamente es el que decide que se tiene que hacer según una url o rutas</p>
<h1 id="enrutamiento-en-codeigniter-4">Enrutamiento en CodeIgniter 4</h1>
<p>En CodeIgniter 4, el enrutamiento se define en el archivo <code>Routes.php</code> en el directorio <code>app/Config</code>.</p>
<h2 id="definici%C3%B3n-de-rutas">Definición de rutas</h2>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Config</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">RouteCollectionInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Routing</span>\<span class="hljs-title">Router</span>;

<span class="hljs-comment">// Crear una nueva instancia del enrutador de CodeIgniter</span>
$routes = <span class="hljs-keyword">new</span> Router();

<span class="hljs-comment">// Definir el controlador predeterminado que se cargará si no se proporciona ninguna URI</span>
$routes-&gt;setDefaultController(<span class="hljs-string">'Inicio'</span>);

<span class="hljs-comment">// Definir una ruta para la página de inicio, donde '/' representa la raíz del sitio web</span>
$routes-&gt;get(<span class="hljs-string">'/'</span>, <span class="hljs-string">'Inicio::index'</span>);

<span class="hljs-comment">// Definir una ruta para mostrar un usuario específico, donde 'usuarios/(:num)' captura un número como parámetro</span>
<span class="hljs-comment">// y lo pasa al método 'mostrar' del controlador 'Usuarios'</span>
$routes-&gt;get(<span class="hljs-string">'usuarios/(:num)'</span>, <span class="hljs-string">'Usuarios::mostrar/$1'</span>);

<span class="hljs-comment">// Definir un grupo de rutas para el panel de administración, que tendrá un prefijo 'admin' para todas las rutas dentro del grupo</span>
$routes-&gt;group(<span class="hljs-string">'admin'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(RouteCollectionInterface $routes)</span> </span>{
    <span class="hljs-comment">// Agregar una ruta para el dashboard del panel de administración</span>
    $routes-&gt;add(<span class="hljs-string">'dashboard'</span>, <span class="hljs-string">'Admin::dashboard'</span>);
    <span class="hljs-comment">// Agregar una ruta para la gestión de usuarios dentro del panel de administración</span>
    $routes-&gt;add(<span class="hljs-string">'usuarios'</span>, <span class="hljs-string">'Admin::usuarios'</span>);
});

<span class="hljs-comment">// Configurar una redirección desde una URL antigua a una nueva</span>
$routes-&gt;redirect(<span class="hljs-string">'old-url'</span>, <span class="hljs-string">'new-url'</span>);
</div></code></pre>
<h3 id="secciones-de-una-ruta-en-codeigniter-4">Secciones de una Ruta en CodeIgniter 4</h3>
<ol>
<li>
<p><strong>Método HTTP</strong>: Las rutas en CodeIgniter 4 comienzan generalmente con un método HTTP, como <code>get</code>, <code>post</code>, <code>put</code>, <code>delete</code>, etc. Este método especifica el tipo de solicitud HTTP que coincide con la ruta.</p>
<p>Ejemplo:</p>
<pre class="hljs"><code><div>$routes-&gt;get(<span class="hljs-string">'/'</span>, <span class="hljs-string">'Inicio::index'</span>);

</div></code></pre>
<p>Aquí, get indica que esta ruta se activará cuando se reciba una solicitud GET a la raíz del sitio web (/).</p>
</li>
<li>
<p>URI (Identificador Uniforme de Recurso): Es la parte de la URL después del nombre de dominio. Puede contener segmentos de la URL que se deben coincidir para que se active la ruta.</p>
</li>
</ol>
<p>Ejemplo:</p>
<pre class="hljs"><code><div>$routes-&gt;get(<span class="hljs-string">'usuarios/(:num)'</span>, <span class="hljs-string">'Usuarios::mostrar/$1'</span>);
</div></code></pre>
<p>En esta ruta, /usuarios/(:num) especifica que la ruta se activará cuando la URL coincida con /usuarios/ seguido de un número.</p>
<ol start="3">
<li>Controlador y Método: Especifica el controlador y el método que manejarán la solicitud cuando se active la ruta. En CodeIgniter, los controladores se encuentran típicamente en el directorio app/Controllers.</li>
</ol>
<p>Ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-string">'Usuarios::mostrar/$1'</span>
</div></code></pre>
<p>Aquí, Usuarios es el nombre del controlador y mostrar es el nombre del método dentro del controlador que manejará la solicitud. $1 es un marcador de posición para el primer parámetro capturado en la URI.</p>
<h2 id="tipos-de-enrutamientos">Tipos de enrutamientos</h2>
<h3 id="enrutamiento-autom%C3%A1tico">Enrutamiento Automático</h3>
<p>En CodeIgniter, el enrutamiento automático es el enfoque predeterminado que sigue una convención de nomenclatura para dirigir las solicitudes HTTP a los controladores y métodos correspondientes.</p>
<p>Convención de Nomenclatura: Para el enrutamiento automático, CodeIgniter asume que la primera parte de la URL (después del dominio) corresponde al nombre del controlador, y la segunda parte (si existe) corresponde al nombre del método dentro de ese controlador. Por ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/ejemplo.com/controlador</span><span class="hljs-regexp">/metodo/parametros</span>
</div></code></pre>
<p>Controladores y Métodos: Los controladores deben ubicarse en el directorio app/Controllers, y los métodos dentro de estos controladores deben ser públicos y accesibles.</p>
<h3 id="enrutamiento-manual">Enrutamiento Manual</h3>
<p>El enrutamiento manual te permite definir rutas personalizadas en el archivo Routes.php para dirigir las solicitudes a controladores y métodos específicos según tus necesidades.</p>
<p>Archivo Routes.php: En CodeIgniter, el archivo Routes.php ubicado en app/Config es donde defines tus rutas manualmente.</p>
<p>Método add(): Utilizas el método add() del enrutador para definir tus rutas. Puedes especificar la URI y el controlador/método correspondiente para cada ruta.</p>
<pre class="hljs"><code><div>$routes-&gt;get(<span class="hljs-string">'ruta'</span>, <span class="hljs-string">'Controlador::metodo'</span>);
</div></code></pre>
<p>Flexibilidad: El enrutamiento manual te brinda más flexibilidad para definir reglas de enrutamiento personalizadas, incluidos prefijos, restricciones de parámetros, grupos de rutas y redireccionamientos.</p>
<h3 id="%C2%BFcu%C3%A1ndo-usar-cada-tipo">¿Cuándo Usar Cada Tipo?</h3>
<ul>
<li>
<p>Enrutamiento Automático: Es útil cuando sigues la convención de nomenclatura predeterminada y no necesitas reglas de enrutamiento personalizadas.</p>
</li>
<li>
<p>Enrutamiento Manual: Se utiliza cuando necesitas reglas de enrutamiento personalizadas, como redireccionamientos, rutas con parámetros dinámicos, o cuando deseas agrupar y organizar tus rutas de una manera específica.</p>
</li>
</ul>
<h3 id="m%C3%A9todos-relacionados-con-el-enrutamiento-autom%C3%A1tico-en-codeigniter">Métodos Relacionados con el Enrutamiento Automático en CodeIgniter</h3>
<ol>
<li>
<p><strong><code>setDefaultNamespace($value)</code></strong>: Este método se utiliza para establecer el espacio de nombres predeterminado para los controladores.</p>
</li>
<li>
<p><strong><code>setDefaultController($controller)</code></strong>: Se utiliza para establecer el controlador predeterminado que se cargará si no se proporciona ninguna URI.</p>
</li>
<li>
<p><strong><code>setDefaultMethod($method)</code></strong>: Define el método predeterminado que se ejecutará si no se proporciona un método en la URI.</p>
</li>
<li>
<p><strong><code>setTranslateURIDashes($translate)</code></strong>: Con este método, puedes habilitar o deshabilitar la traducción automática de guiones en las URIs a nombres de controlador y método.</p>
</li>
<li>
<p><strong><code>set404Override($override)</code></strong>: Con esta función, puedes habilitar o deshabilitar la anulación de la página 404 predeterminada de CodeIgniter.</p>
</li>
<li>
<p><strong><code>setAutoRoute($value)</code></strong>: Este método permite habilitar o deshabilitar el enrutamiento automático. Cuando está habilitado, CodeIgniter intentará enrutamiento automático según la URI proporcionada.</p>
</li>
</ol>
<p>Estos métodos te proporcionan control sobre el enrutamiento automático en CodeIgniter, permitiéndote configurar el comportamiento predeterminado de tu aplicación web.</p>
<p><img src="image-4.png" alt="alt text"></p>
<p><img src="image-5.png" alt="alt text"></p>
<p>Función con parámetros</p>
<p><img src="image-6.png" alt="alt text"></p>
<p>Ruta</p>
<p><img src="image-7.png" alt="alt text"></p>
<p>Controlador</p>
<p><img src="image-8.png" alt="alt text"></p>
<p>Se puede hacer limitando el rango del valor de los parámetros en este caso limitamos solo dígitos del 0 al 9 y que mínimo tengan 2 cifras</p>
<p><img src="image-9.png" alt="alt text"></p>
<p>Rutas hacia una vista</p>
<p><img src="image-10.png" alt="alt text"></p>
<p>En este caso llamamos a una vista y le pasamos parámetros</p>
<p><img src="image-11.png" alt="alt text"></p>
<p>Desde la cista lo podemos recibir de esta manera</p>
<p><img src="image-12.png" alt="alt text"></p>
<p>Se pueden hacer Grupos de Rutas</p>
<p><img src="image-13.png" alt="alt text"></p>
<h1 id="vistas">Vistas</h1>
<h2 id="introducci%C3%B3n-a-las-vistas-en-codeigniter-4">Introducción a las Vistas en CodeIgniter 4</h2>
<p><strong>¿Qué son las vistas en CodeIgniter 4?</strong>
Las vistas son componentes esenciales que se utilizan para presentar datos al usuario final de una aplicación web en el patrón de diseño Modelo-Vista-Controlador (MVC). Permiten la separación de la lógica de presentación de la lógica de negocio y la manipulación de datos.</p>
<p><strong>¿Cómo se usan las vistas en CodeIgniter 4?</strong></p>
<ol>
<li>
<p><strong>Creación de vistas:</strong> Se crean como archivos individuales con la extensión <code>.php</code> en el directorio <code>app/Views</code>.</p>
</li>
<li>
<p><strong>Pasando datos a las vistas:</strong> Los controladores pueden pasar datos a las vistas utilizando un arreglo asociativo o un objeto como parámetro al cargar la vista.</p>
</li>
<li>
<p><strong>Cargando vistas:</strong> Se cargan desde los controladores utilizando el método <code>view()</code> proporcionado por la clase <code>CodeIgniter\View\View</code>.</p>
<p><img src="image-14.png" alt="alt text"></p>
<p>si tu vista esta en una subcarpeta es necesario especificarla</p>
<p><img src="image-19.png" alt="alt text"></p>
</li>
</ol>
<p>Automáticamente la función busca dentro de nuestra carpeta de vistas</p>
<ol start="4">
<li><strong>Renderizando vistas parciales:</strong> Se pueden renderizar vistas parciales o fragmentos de HTML utilizando el método <code>renderSection()</code>.</li>
</ol>
<p><strong>¿Qué se puede hacer con las vistas en CodeIgniter 4?</strong></p>
<ol>
<li><strong>Mostrar datos dinámicos:</strong> Pueden mostrar datos dinámicos provenientes de diversas fuentes.</li>
<li><strong>Crear interfaces de usuario interactivas:</strong> Pueden contener formularios, botones y otros elementos interactivos.</li>
<li><strong>Reutilizar código HTML:</strong> Permiten la reutilización de código HTML mediante la inclusión de otras vistas parciales o fragmentos.</li>
<li><strong>Aplicar lógica de presentación:</strong> Pueden contener lógica de presentación para mostrar elementos según condiciones específicas.</li>
</ol>
<h1 id="mandar-informaci%C3%B3n-del-controlador-a-la-vista">Mandar información del controlador a la vista</h1>
<p>En el controlador</p>
<p><img src="image-15.png" alt="alt text"></p>
<p>En la Vista</p>
<p><img src="image-16.png" alt="alt text"></p>
<p>Se puede recibir e imprimir con un echo para que se respeten las etiquetas html</p>
<p>Y también se puede pasar como texto plano esto con la función
esc()</p>
<p><img src="image-17.png" alt="alt text">
<img src="image-18.png" alt="alt text"></p>
<h1 id="retornar-mas-de-una-vista">Retornar mas de una vista</h1>
<p>Desde el controlador podemos mandar a llamar mas de una vista y de diferentes maneras ya sea
con echo</p>
<p><img src="image-20.png" alt="alt text"></p>
<p>o con return</p>
<p><img src="image-21.png" alt="alt text"></p>
<h1 id="layouts">Layouts</h1>
<h2 id="implementaci%C3%B3n-de-un-layout-en-codeigniter">Implementación de un Layout en CodeIgniter</h2>
<p>En CodeIgniter, un <strong>layout</strong> es una estructura base para las vistas de tu aplicación web. Los layouts permiten definir una plantilla común que puede ser reutilizada en diferentes vistas, asegurando consistencia en el diseño y facilitando el mantenimiento del código.</p>
<h2 id="1-creaci%C3%B3n-del-layout-principal">1. Creación del Layout Principal</h2>
<p>Generalmente, creas una vista principal que contiene la estructura básica de tu página, como la cabecera, pie de página y secciones comunes. Puedes llamarla <code>layout.php</code> y colocarla en la carpeta de vistas (<code>application/views/</code>).</p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- application/views/layout.php --&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="php"><span class="hljs-meta">&lt;?</span>= $title; <span class="hljs-meta">?&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Incluye tus archivos CSS aquí --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Mi Aplicación Web<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- Menú de navegación, etc. --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
      <span class="php"><span class="hljs-meta">&lt;?</span>= $content; <span class="hljs-meta">?&gt;</span></span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-symbol">&amp;copy;</span> 2024 Mi Aplicación Web<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Incluye tus archivos JavaScript aquí --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</div></code></pre>
<h2 id="2-uso-del-layout-en-un-controlador">2. Uso del Layout en un Controlador</h2>
<p>En tu controlador, cargas las vistas específicas y las pasas a través del layout.</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Controllers/Home.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span> </span>{
        $data[<span class="hljs-string">'title'</span>] = <span class="hljs-string">'Bienvenido a CodeIgniter 4'</span>;
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'home'</span>, $data);
    }
}
</div></code></pre>
<h2 id="3-creaci%C3%B3n-de-vistas-espec%C3%ADficas">3. Creación de Vistas Específicas</h2>
<p>Crea las vistas específicas que deseas mostrar dentro del layout. Por ejemplo, home.php.</p>
<pre class="hljs"><code><div>&lt;!-- app/Views/home.php --&gt;
<span class="hljs-meta">&lt;?</span>= <span class="hljs-keyword">$this</span>-&gt;extend(<span class="hljs-string">'layout'</span>); <span class="hljs-meta">?&gt;</span>

<span class="hljs-meta">&lt;?</span>= <span class="hljs-keyword">$this</span>-&gt;section(<span class="hljs-string">'content'</span>); <span class="hljs-meta">?&gt;</span>
&lt;h2&gt;¡Hola, mundo!&lt;/h2&gt;
&lt;p&gt;Bienvenido a mi aplicación web construida con CodeIgniter <span class="hljs-number">4.</span>&lt;/p&gt;
<span class="hljs-meta">&lt;?</span>= <span class="hljs-keyword">$this</span>-&gt;endSection(); <span class="hljs-meta">?&gt;</span>
</div></code></pre>
<p><img src="image-22.png" alt="alt text"></p>
<h2 id="ejemplo-de-layout">Ejemplo de Layout</h2>
<p><img src="image-23.png" alt="alt text"></p>
<p>Esta es una estructura básica de una plantilla html</p>
<p>en la cual imprimimos con echo una sección para renderizar llamada contenido</p>
<p><img src="image-24.png" alt="alt text"></p>
<p>este layout lo vamos a llamar desde una vista
con</p>
<p><img src="image-25.png" alt="alt text"></p>
<p>Y vamos a crear la sección de codigo que vamos a enviar como contenido de nuestra layout</p>
<p><img src="image-26.png" alt="alt text"></p>
<p>Dentro del controlador retornamos la vista</p>
<p><img src="image-27.png" alt="alt text"></p>
<h2 id="llamar-una-vista-desde-el-layout">Llamar una vista desde el layout</h2>
<p><img src="image-28.png" alt="alt text"></p>
<h1 id="conexi%C3%B3n-a-base-de-datos">Conexión a Base de Datos</h1>
<p>Lo primero es configurar nuestras credenciales de acceso en el archivo .env que se sobre escribe a los demás archivos de configuración</p>
<p>El siguiente paso es
crear una variable para almacenar las credenciales de conexión</p>
<p><img src="image-29.png" alt="alt text"></p>
<p>en otra variable guardamos la query o consulta</p>
<p><img src="image-30.png" alt="alt text"></p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">// Definimos el namespace de la clase para mantener el código organizado y evitar conflictos de nombres.</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-comment">// Definimos la clase Productos que extiende de BaseController, la clase base para los controladores en CodeIgniter.</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Productos</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>
</span>{
    <span class="hljs-comment">// Método index, que se ejecuta cuando se accede al controlador sin especificar un método.</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Conectamos a la base de datos usando la configuración predeterminada.</span>
        $db = \Config\Database::connect();

        <span class="hljs-comment">// Ejecutamos una consulta SQL para seleccionar el código, nombre y stock de la tabla productos.</span>
        $query = $db-&gt;query(<span class="hljs-string">"SELECT codigo, nombre, stock FROM productos"</span>);

        <span class="hljs-comment">// Obtenemos los resultados de la consulta en forma de un array de objetos.</span>
        $resultado = $query-&gt;getResult();

        <span class="hljs-comment">// Preparamos un array asociativo con datos para pasarlos a la vista.</span>
        $data = [<span class="hljs-string">'titulo'</span> =&gt; <span class="hljs-string">'Catálogo de Productos'</span>, <span class="hljs-string">'productos'</span> =&gt; $resultado];

        <span class="hljs-comment">// Cargamos la vista 'productos/index' y le pasamos los datos.</span>
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'productos/index'</span>, $data);
    }
}
</div></code></pre>
<p>en la vista podemos utilizar los lops valores retornados de la siguiente manera</p>
<p><img src="image-31.png" alt="alt text"></p>
<p>el resultado también puede ser retornado como un arreglo</p>
<p><img src="image-32.png" alt="alt text"></p>
<p>si es de esta manera en tu vista tienes que utilizar indices para consultar los datos del resultado retornado como arreglo</p>
<p><img src="image-33.png" alt="alt text"></p>
<h1 id="modelos-en-codeigniter-4">Modelos en CodeIgniter 4</h1>
<p><img src="image-34.png" alt="alt text"></p>
<h2 id="%C2%BFqu%C3%A9-son-los-modelos-en-codeigniter-4-%F0%9F%9B%A0%EF%B8%8F">¿Qué son los Modelos en CodeIgniter 4? 🛠️</h2>
<p>Los Modelos en CodeIgniter 4 son componentes que manejan la lógica de acceso a datos y la interacción con la base de datos. Son responsables de realizar operaciones como crear, leer, actualizar y eliminar (CRUD) registros en la base de datos.</p>
<h2 id="%C2%BFpara-qu%C3%A9-se-usan-los-modelos-%F0%9F%8E%AF">¿Para qué se usan los Modelos? 🎯</h2>
<ol>
<li><strong>Organización del Código</strong>: Separan la lógica de negocio de la lógica de presentación.</li>
<li><strong>Reutilización</strong>: Facilitan la reutilización de la lógica de acceso a datos en diferentes partes de la aplicación.</li>
<li><strong>Abstracción</strong>: Abstraen la complejidad de las operaciones de base de datos, proporcionando métodos fáciles de usar para interactuar con los datos.</li>
</ol>
<h2 id="c%C3%B3mo-usar-los-modelos-en-codeigniter-4-%F0%9F%93%9D">Cómo Usar los Modelos en CodeIgniter 4 📝</h2>
<h3 id="crear-un-modelo">Crear un Modelo</h3>
<p>Para crear un modelo en CodeIgniter 4, necesitas crear una clase que extienda <code>CodeIgniter\Model</code>. Aquí hay un ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsuarioModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'usuarios'</span>;
    <span class="hljs-keyword">protected</span> $primaryKey = <span class="hljs-string">'id'</span>;
    <span class="hljs-keyword">protected</span> $allowedFields = [<span class="hljs-string">'nombre'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'contraseña'</span>];
}
</div></code></pre>
<h2 id="usar-un-modelo">Usar un Modelo</h2>
<p>Para usar un modelo en tu controlador, primero necesitas cargarlo. Aquí hay un ejemplo de cómo hacerlo:</p>
<pre class="hljs"><code><div>
<span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">UsuarioModel</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsuarioController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        $usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
        $data[<span class="hljs-string">'usuarios'</span>] = $usuarioModel-&gt;findAll();

        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'usuarios/index'</span>, $data);
    }
}
</div></code></pre>
<h2 id="m%C3%A9todos-comunes-de-los-modelos-%F0%9F%93%9A">Métodos Comunes de los Modelos 📚</h2>
<ol>
<li>find($id): Obtiene un registro por su ID.</li>
<li>findAll(): Obtiene todos los registros.</li>
<li>insert($data): Inserta un nuevo registro.</li>
<li>update($id, $data): Actualiza un registro existente.</li>
<li>delete($id): Elimina un registro por su ID.</li>
</ol>
<p><img src="image-36.png" alt="alt text"></p>
<h2 id="ejemplos-de-uso-%F0%9F%A7%A9">Ejemplos de Uso 🧩</h2>
<ul>
<li>Obtener Todos los Registros</li>
</ul>
<pre class="hljs"><code><div>$usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
$usuarios = $usuarioModel-&gt;findAll();
</div></code></pre>
<ul>
<li>Obtener un Registro por ID</li>
</ul>
<pre class="hljs"><code><div>$usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
$usuario = $usuarioModel-&gt;find(<span class="hljs-number">1</span>);
</div></code></pre>
<ul>
<li>Insertar un Nuevo Registro</li>
</ul>
<pre class="hljs"><code><div>$usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
$usuarioModel-&gt;insert([
    <span class="hljs-string">'nombre'</span> =&gt; <span class="hljs-string">'Juan Pérez'</span>,
    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'juan@example.com'</span>,
    <span class="hljs-string">'contraseña'</span> =&gt; <span class="hljs-string">'123456'</span>
]);
</div></code></pre>
<ul>
<li>Actualizar un Registro</li>
</ul>
<pre class="hljs"><code><div>$usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
$usuarioModel-&gt;update(<span class="hljs-number">1</span>, [
    <span class="hljs-string">'nombre'</span> =&gt; <span class="hljs-string">'Juan Pérez'</span>,
    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'juan.perez@example.com'</span>
]);
</div></code></pre>
<ul>
<li>Eliminar un Registro</li>
</ul>
<pre class="hljs"><code><div>$usuarioModel = <span class="hljs-keyword">new</span> UsuarioModel();
$usuarioModel-&gt;delete(<span class="hljs-number">1</span>);
</div></code></pre>
<h2 id="configuraci%C3%B3n-adicional-%F0%9F%9B%A0%EF%B8%8F">Configuración Adicional 🛠️</h2>
<h3 id="validaci%C3%B3n-de-datos">Validación de Datos</h3>
<p>Puedes configurar reglas de validación en tu modelo:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Model</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsuarioModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'usuarios'</span>;
    <span class="hljs-keyword">protected</span> $primaryKey = <span class="hljs-string">'id'</span>;
    <span class="hljs-keyword">protected</span> $allowedFields = [<span class="hljs-string">'nombre'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'contraseña'</span>];

    <span class="hljs-keyword">protected</span> $validationRules = [
        <span class="hljs-string">'nombre'</span> =&gt; <span class="hljs-string">'required|min_length[3]|max_length[255]'</span>,
        <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|valid_email'</span>,
        <span class="hljs-string">'contraseña'</span> =&gt; <span class="hljs-string">'required|min_length[8]'</span>
    ];
}
</div></code></pre>
<h3 id="callbacks">Callbacks</h3>
<p>Puedes usar callbacks para ejecutar funciones antes o después de ciertas operaciones:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UsuarioModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'usuarios'</span>;
    <span class="hljs-keyword">protected</span> $primaryKey = <span class="hljs-string">'id'</span>;
    <span class="hljs-keyword">protected</span> $allowedFields = [<span class="hljs-string">'nombre'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'contraseña'</span>];

    <span class="hljs-keyword">protected</span> $beforeInsert = [<span class="hljs-string">'hashPassword'</span>];

    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hashPassword</span><span class="hljs-params">(array $data)</span>
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">isset</span>($data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'contraseña'</span>])) {
            $data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'contraseña'</span>] = password_hash($data[<span class="hljs-string">'data'</span>][<span class="hljs-string">'contraseña'</span>], PASSWORD_DEFAULT);
        }

        <span class="hljs-keyword">return</span> $data;
    }
}
</div></code></pre>
<blockquote>
<p>Los modelos en CodeIgniter 4 son una poderosa herramienta para manejar la lógica de acceso a datos de tu aplicación. Organizan y simplifican la interacción con la base de datos, permitiendo un código más limpio y mantenible.</p>
</blockquote>
<h2 id="propiedades-de-la-tabla-a-consultar">Propiedades de la tabla a consultar</h2>
<p><img src="image-35.png" alt="alt text"></p>
<h3 id="ejemplo-de-un-modelo">ejemplo de un modelo</h3>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">// Definimos el espacio de nombres para esta clase, que está dentro de la carpeta App\Models</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-comment">// Importamos la clase Model de CodeIgniter para poder extenderla</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProductosModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-comment">// Nombre de la tabla en la base de datos que este modelo manejará</span>
    <span class="hljs-keyword">protected</span> $table      = <span class="hljs-string">'productos'</span>;

    <span class="hljs-comment">// Nombre de la columna que es la llave primaria de la tabla</span>
    <span class="hljs-keyword">protected</span> $primaryKey = <span class="hljs-string">'idproductos'</span>;

    <span class="hljs-comment">// Indicamos que la llave primaria utiliza auto-incremento</span>
    <span class="hljs-keyword">protected</span> $useAutoIncrement = <span class="hljs-keyword">true</span>;

    <span class="hljs-comment">// Especificamos que los resultados serán devueltos como un arreglo; se podría usar 'object' para objetos</span>
    <span class="hljs-keyword">protected</span> $returnType = <span class="hljs-string">'array'</span>;

    <span class="hljs-comment">// Habilitamos el uso de soft deletes (borrado lógico) en este modelo</span>
    <span class="hljs-keyword">protected</span> $useSoftDeletes = <span class="hljs-keyword">true</span>;

    <span class="hljs-comment">// Campos permitidos para inserción y actualización</span>
    <span class="hljs-keyword">protected</span> $allowedFields = [<span class="hljs-string">'codigo'</span>, <span class="hljs-string">'nombre'</span>, <span class="hljs-string">'stock'</span>, <span class="hljs-string">'id_almacen'</span>, <span class="hljs-string">'estatus'</span>];

    <span class="hljs-comment">// Habilitamos el manejo automático de timestamps</span>
    <span class="hljs-keyword">protected</span> $useTimestamps = <span class="hljs-keyword">true</span>;

    <span class="hljs-comment">// Formato de las fechas que se manejarán</span>
    <span class="hljs-keyword">protected</span> $dateFormat = <span class="hljs-string">'datetime'</span>;

    <span class="hljs-comment">// Nombre de la columna que almacenará la fecha de creación</span>
    <span class="hljs-keyword">protected</span> $createdField = <span class="hljs-string">'fecha_alta'</span>;

    <span class="hljs-comment">// Nombre de la columna que almacenará la fecha de la última modificación</span>
    <span class="hljs-keyword">protected</span> $updatedField = <span class="hljs-string">'fecha_modifica'</span>;

    <span class="hljs-comment">// Nombre de la columna que almacenará la fecha de borrado lógico</span>
    <span class="hljs-keyword">protected</span> $deletedField = <span class="hljs-string">'fecha_elimina'</span>;
}
</div></code></pre>
<h2 id="funciones-de-modelos">Funciones de modelos</h2>
<p>Anteriormente se mostró como conectar a la base de datos desde el controlador</p>
<p><img src="image-37.png" alt="alt text"></p>
<p>Usando un modelo, ya no es necesario realizar la conexión de la misma manera ya que el framework la hace a través de métodos que se utilizan al usar un modelo</p>
<p>el primer paso es instanciar el modelo desde cualquier función del controlador</p>
<p><img src="image-38.png" alt="alt text"></p>
<p>no olvides importar la carpeta contenedora del modelo junto con el modelo para no importar todo</p>
<p><img src="image-39.png" alt="alt text"></p>
<h1 id="constructor-del-controlador--instancia-al-modelo">Constructor del controlador- instancia al modelo</h1>
<p>Se recomienda instanciar al modelo desde el constructor de el controller</p>
<p><img src="image-51.png" alt="alt text"></p>
<p>para poder invocar los métodos o funciones de un modelo desde cualquier función de la clase o controlador</p>
<p><img src="image-52.png" alt="alt text"></p>
<h1 id="funci%C3%B3n-findall">Función findAll();</h1>
<h3 id="%C2%BFqu%C3%A9-es-findall">¿Qué es findAll()?</h3>
<p>La función findAll() es parte de la clase Model en CodeIgniter 4 y se utiliza para recuperar todos los registros de una tabla, o un subconjunto de registros especificando un límite y un offset.</p>
<p>después de instanciar el modelo existe la función findAll();
Esta función contiene un select \ sin ningún where</p>
<p><img src="image-41.png" alt="alt text"> =&gt; <img src="image-40.png" alt="alt text"></p>
<p>si la información que nos retorna es de tipo array hay que meter ese arreglo en una variable</p>
<p><img src="image-42.png" alt="alt text"></p>
<p>Aquí se puede ver como se configuro para recibir un arreglo desde el modelo</p>
<p><img src="image-43.png" alt="alt text"></p>
<p>para obtener la informacion en la vista hay que iterar con un foreach</p>
<p><img src="image-44.png" alt="alt text"></p>
<p>Otro ejemplo</p>
<p><img src="image-58.png" alt="alt text"></p>
<p>Con limite y offset</p>
<p><img src="image-59.png" alt="alt text"></p>
<p><img src="image-60.png" alt="alt text"></p>
<p>Notas Adicionales</p>
<ul>
<li><strong>Seguridad</strong>: Asegúrate de usar funciones de escape como esc() en las vistas para evitar ataques XSS.</li>
<li><strong>Optimización</strong>: Si esperas muchos registros, considera usar paginación para mejorar el rendimiento.</li>
</ul>
<h1 id="funci%C3%B3n-find">Función find()</h1>
<h3 id="%C2%BFqu%C3%A9-hace-la-funci%C3%B3n-find">¿Qué hace la función find()?</h3>
<p>La función find() busca un registro en la base de datos basado en su clave primaria. Es decir, debes pasar el valor de la clave primaria del registro que deseas recuperar como argumento de la función</p>
<p>Ejemplo</p>
<p>Modelo</p>
<p><img src="image-61.png" alt="alt text"></p>
<p>Funcion llamada desde el controlador</p>
<p><img src="image-62.png" alt="alt text"></p>
<p>Sirve para traer un solo registro pide como parámetro un id y devuelve el id del registro consultado</p>
<p><img src="image-45.png" alt="alt text"></p>
<p>en la vista lo estarias imprimiendo de esta manera</p>
<p><img src="image-49.png" alt="alt text"></p>
<p>Tambien se puede pedir un arreglo de valores por ejemplo</p>
<p><img src="image-50.png" alt="alt text"></p>
<p>de esta manera se tiene que actualizar la forma en la que se va a imprimir</p>
<p><img src="image-63.png" alt="alt text"></p>
<h1 id="funci%C3%B3n-insert-y-getinsertid">FUNCIÓN insert() Y getInsertId()</h1>
<p>Sirve para insertar valores en una tabla es un metodo propio del modelo
y si lo imprimes con un echo te retorna un 1 como valor booleano el cual representa que el insert se realizo correctamente</p>
<p><img src="image-53.png" alt="alt text"></p>
<p>se le manda como parametro un arreglo con los valores que se desaen insertar en la tabla es necesario que estos cumplan con el tipo de vaslores que requiere la tabla en cada registro</p>
<p><img src="image-54.png" alt="alt text"></p>
<p>ademas de el arreglo con los valores puedes ponerle false o true para poder obtener tambien el id de lo que insertaste en la tabla.
Por ejemplo</p>
<p><img src="image-55.png" alt="alt text"></p>
<p>Resultado en pantalla por el echo</p>
<p><img src="image-56.png" alt="alt text"></p>
<h2 id="lamar-al-ultimo-id-insertado">Lamar al ultimo ID insertado</h2>
<p>Otra forma de obtener el ultimo ID insertado es con la funcion getInsertId()</p>
<p><img src="image-57.png" alt="alt text"></p>
<h1 id="funcion-update">FUNCION Update()</h1>
<p>En CodeIgniter 4, la función update es fundamental para modificar registros en la base de datos.</p>
<p><img src="image-64.png" alt="alt text"></p>
<p>Notas Importantes
Protección de Campos:
Asegúrate de que los campos que estás actualizando están en la propiedad allowedFields del modelo. Esto ayuda a prevenir ataques de inyección SQL.</p>
<p>Retorno de la Función:
La función update retorna true en caso de éxito y false en caso de error.</p>
<p>Lo primero es crear un arreglo con la información que vas a cambiar</p>
<p><img src="image-65.png" alt="alt text"></p>
<p>Después declaras tu Funcion y como parámetro le mandas el arreglo y el id del registro que vas a modificar</p>
<p><img src="image-66.png" alt="alt text"></p>
<p>Tambien se pueden cambiar varios registros a la vez con un arreglo en la parte donde va el id</p>
<p>ejemplo</p>
<p><img src="image-67.png" alt="alt text"></p>
<h1 id="funcion-delete">FUNCION Delete()</h1>
<p>Para eliminar un registro de una base de datos es necesario ser consiente de que existe una opción en el modelo que te permite controlar si al borrar un registro se borra definitivamente o solo se deja de cargar.
Esta configuración es</p>
<p><img src="image-68.png" alt="alt text"></p>
<p>si se tiene como True no elimina el registro
si se tiene como False si elimina el registro</p>
<p>la función solo requiere que se le pase el id del registro que queremos eliminar</p>
<p>De esta manerta si tu tienes un campo llamado fecha_elimina en tu tabla el registro no se eliminará sino que esa fecha de eliminacion se actualizara</p>
<p><img src="image-69.png" alt="alt text"></p>
<p>Si useSoftDeletes lo cambiamos a false el registro sera eliminado</p>
<p><img src="image-70.png" alt="alt text"></p>
<p>de esta manera si se borra el registro</p>
<p><img src="image-72.png" alt="alt text"></p>
<p><img src="image-71.png" alt="alt text"></p>
<p>de igual manera esto puede funcionar con un arreglo con diferentes ids</p>
<p><img src="image-73.png" alt="alt text"></p>
<p>al final de cuentas si tu realizas una consulta con findAll()
Solo obtendras los registros que no tengan fecha de eliminacion, y los registros existentes</p>
<p><img src="image-74.png" alt="alt text"></p>
<p>Para obtener todos los registros estén con fecha de eliminación o no debes de usar una función extra</p>
<p><img src="image-75.png" alt="alt text"></p>
<p><img src="image-76.png" alt="alt text"></p>
<p>De esta manera se traen todos los registros aunque tengan fecha de eliminación</p>
<h1 id="funcion-purgedeleted">FUNCION purgeDeleted()</h1>
<p>Esta función sirve para eliminar definitivamente los registros que se hayas dado de baja.</p>
<p><img src="image-77.png" alt="alt text"></p>
<p>Ejemplo;</p>
<p>Antes</p>
<p><img src="image-78.png" alt="alt text"></p>
<p>Después de llamar a la función</p>
<p><img src="image-79.png" alt="alt text"></p>
<p>Pero es necesario tener activa la opción de useSoftDeletes</p>
<p><img src="image-70.png" alt="alt text"></p>
<h1 id="query-builder-class-en-codeigniter-4">Query Builder Class en CodeIgniter 4</h1>
<p>En CodeIgniter 4, la <strong>Query Builder Class</strong> es una herramienta poderosa que facilita la construcción y ejecución de consultas SQL de manera programática y segura. Esta clase te permite interactuar con la base de datos sin necesidad de escribir directamente las consultas SQL, lo cual reduce errores y mejora la seguridad contra inyecciones SQL. Aquí te dejo un resumen de sus características principales:</p>
<h3 id="caracter%C3%ADsticas-de-la-query-builder-class">Características de la Query Builder Class</h3>
<ol>
<li><strong>Construcción de Consultas</strong>: Permite construir consultas <code>SELECT</code>, <code>INSERT</code>, <code>UPDATE</code> y <code>DELETE</code> de forma sencilla y legible.</li>
<li><strong>Encadenamiento de Métodos</strong>: Los métodos se pueden encadenar para crear consultas más complejas de manera clara y estructurada.</li>
<li><strong>Escapado Automático</strong>: Los valores y nombres de tablas y columnas se escapan automáticamente para prevenir inyecciones SQL.</li>
<li><strong>Compatibilidad con Distintas Bases de Datos</strong>: CodeIgniter 4 soporta múltiples tipos de bases de datos, y la Query Builder Class maneja las diferencias entre ellas.</li>
</ol>
<h3 id="ejemplos-pr%C3%A1cticos">Ejemplos Prácticos</h3>
<h3 id="select">SELECT</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Conecta con la base de datos utilizando la configuración por defecto</span>
$db = \Config\Database::connect();

<span class="hljs-comment">// Obtiene el constructor de consultas para la tabla 'users'</span>
$builder = $db-&gt;table(<span class="hljs-string">'users'</span>);

<span class="hljs-comment">// Construye una consulta SELECT para obtener los campos 'id', 'name' y 'email' de la tabla 'users'</span>
<span class="hljs-comment">// Añade una condición WHERE para seleccionar solo los registros donde el 'status' sea 'active'</span>
<span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
$query = $builder-&gt;select(<span class="hljs-string">'id, name, email'</span>)
                 -&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>)
                 -&gt;orderBy(<span class="hljs-string">'name'</span>, <span class="hljs-string">'ASC'</span>)
                 -&gt;get();

<span class="hljs-comment">// Ejecuta la consulta y obtiene los resultados como un array de objetos</span>
$results = $query-&gt;getResult();
</div></code></pre>
<h3 id="insert">INSERT</h3>
<pre class="hljs"><code><div>$data = [
    <span class="hljs-string">'name'</span> =&gt; <span class="hljs-string">'John Doe'</span>,
    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'john.doe@example.com'</span>,
    <span class="hljs-string">'status'</span> =&gt; <span class="hljs-string">'active'</span>
];

$builder-&gt;insert($data);
</div></code></pre>
<h3 id="update">UPDATE</h3>
<pre class="hljs"><code><div>$data = [
    <span class="hljs-string">'status'</span> =&gt; <span class="hljs-string">'inactive'</span>
];

$builder-&gt;where(<span class="hljs-string">'id'</span>, <span class="hljs-number">1</span>)
        -&gt;update($data);
</div></code></pre>
<h3 id="delete">DELETE</h3>
<pre class="hljs"><code><div>$builder-&gt;where(<span class="hljs-string">'id'</span>, <span class="hljs-number">1</span>)
        -&gt;delete();
</div></code></pre>
<h3 id="ventajas">Ventajas</h3>
<ul>
<li><strong>Simplicidad y Legibilidad</strong>: Hace que las consultas sean más fáciles de leer y escribir.</li>
<li><strong>Seguridad</strong>: Reduce riesgos de inyección SQL.</li>
<li><strong>Flexibilidad</strong>: Facilita la creación de consultas complejas mediante el encadenamiento de métodos.</li>
</ul>
<p>La Query Builder Class en CodeIgniter 4 es esencial para trabajar con bases de datos de manera eficiente y segura, permitiendo a los desarrolladores centrarse más en la lógica de negocio y menos en los detalles técnicos de SQL.</p>
<h3 id="funcion-where-de-la-clase-query-builder">Funcion where de la clase query builder</h3>
<p>El método where se utiliza para añadir una cláusula WHERE a una consulta SQL, filtrando los registros que cumplen con una condición específica.</p>
<p><img src="image-80.png" alt="alt text"></p>
<p><img src="image-81.png" alt="alt text"></p>
<p>En resumen, el método where en la clase Query Builder de CodeIgniter 4 es fundamental para filtrar los resultados de las consultas SQL según condiciones específicas.</p>
<p>otra forma</p>
<p><img src="image-83.png" alt="alt text"></p>
<h4 id="ver-ultima-query">Ver ultima query</h4>
<p><img src="image-84.png" alt="alt text"></p>
<p>Tambien puede ser con</p>
<p><img src="image-86.png" alt="alt text"></p>
<p>Sin embargo un objeto se tiene que tratar de diferente manera para poder ser impreso</p>
<p>Recuerda la diferencia entre</p>
<p>getResult(); y getResultArray();</p>
<p>Es la forma en la que te retorna la información</p>
<p>con getResultArray(); Obtenemos</p>
<p><img src="image-85.png" alt="alt text"></p>
<h3 id="funci%C3%B3n-select-de-la-clase-query-builder">Función select de la clase query builder</h3>
<p>La función select se utiliza para definir las columnas que quieres recuperar de una tabla en una consulta SELECT.</p>
<p><img src="image-87.png" alt="alt text"></p>
<p><img src="image-88.png" alt="alt text"></p>
<p><img src="image-89.png" alt="alt text"></p>
<p><img src="image-90.png" alt="alt text"></p>
<p>Ejemplo practico</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Conecta con la base de datos utilizando la configuración por defecto</span>
$db = \Config\Database::connect();

<span class="hljs-comment">// Obtiene el constructor de consultas para la tabla 'users'</span>
$builder = $db-&gt;table(<span class="hljs-string">'users'</span>);

<span class="hljs-comment">// Construye una consulta SELECT para obtener los campos 'id', 'name' y 'email' de la tabla 'users'</span>
<span class="hljs-comment">// Añade una condición WHERE para seleccionar solo los registros donde el 'status' sea 'active'</span>
<span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
$query = $builder-&gt;select(<span class="hljs-string">'id, name, email'</span>) <span class="hljs-comment">// Define las columnas a seleccionar</span>
                 -&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>) <span class="hljs-comment">// Agrega la condición WHERE</span>
                 -&gt;orderBy(<span class="hljs-string">'name'</span>, <span class="hljs-string">'ASC'</span>) <span class="hljs-comment">// Ordena los resultados</span>
                 -&gt;get(); <span class="hljs-comment">// Ejecuta la consulta</span>

<span class="hljs-comment">// Ejecuta la consulta y obtiene los resultados como un array de objetos</span>
$results = $query-&gt;getResult();
</div></code></pre>
<p>Segundo ejemplo</p>
<p>Consulta</p>
<p><img src="image-91.png" alt="alt text"></p>
<p>Resultado</p>
<p><img src="image-92.png" alt="alt text"></p>
<p>Ejemplo con 2 where y un select</p>
<p><img src="image-93.png" alt="alt text"></p>
<p>la query sería así</p>
<p><img src="image-94.png" alt="alt text"></p>
<p>se puede hacer tambien de esta manera
para dos filtros con un solo where se agrega un arreglo y se envia a un solo where</p>
<p><img src="image-95.png" alt="alt text"></p>
<p>El resultado seria el mismo</p>
<p><img src="image-94.png" alt="alt text"></p>
<p>también es verdad que se pueden agregar directamente operaciones lógicas desde el una variable string</p>
<p><img src="image-96.png" alt="alt text"></p>
<p>El resultado seria el mismo</p>
<p><img src="image-94.png" alt="alt text"></p>
<h3 id="funcion-orderby-de-la-clase-query-builder">Funcion orderBy() de la clase Query Builder</h3>
<p>La función orderBy en el Query Builder de CodeIgniter 4 se utiliza para especificar el orden en el que se deben devolver los resultados de una consulta SQL. Puedes ordenar los resultados en orden ascendente (ASC) o descendente (DESC) según una o más columnas.</p>
<p><img src="image-97.png" alt="alt text"></p>
<p><img src="image-99.png" alt="alt text"></p>
<p><img src="image-100.png" alt="alt text"></p>
<p>Ejemplo practico</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Conecta con la base de datos utilizando la configuración por defecto</span>
$db = \Config\Database::connect();

<span class="hljs-comment">// Obtiene el constructor de consultas para la tabla 'users'</span>
$builder = $db-&gt;table(<span class="hljs-string">'users'</span>);

<span class="hljs-comment">// Construye una consulta SELECT para obtener los campos 'id', 'name' y 'email' de la tabla 'users'</span>
<span class="hljs-comment">// Añade una condición WHERE para seleccionar solo los registros donde el 'status' sea 'active'</span>
<span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
$query = $builder-&gt;select(<span class="hljs-string">'id, name, email'</span>) <span class="hljs-comment">// Define las columnas a seleccionar</span>
                 -&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>) <span class="hljs-comment">// Agrega la condición WHERE</span>
                 -&gt;orderBy(<span class="hljs-string">'name'</span>, <span class="hljs-string">'ASC'</span>) <span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
                 -&gt;get(); <span class="hljs-comment">// Ejecuta la consulta</span>

<span class="hljs-comment">// Ejecuta la consulta y obtiene los resultados como un array de objetos</span>
$results = $query-&gt;getResult();
</div></code></pre>
<p>La función orderBy es una herramienta esencial en el Query Builder de CodeIgniter 4 para controlar la secuencia en la que se presentan los resultados de una consulta, permitiendo ordenar de forma sencilla y eficiente.</p>
<h3 id="funci%C3%B3n-limit-de-query-builder">Función limit(); de Query Builder</h3>
<p>se utiliza para restringir el número de filas devueltas por una consulta SQL. Es útil cuando necesitas paginar resultados o simplemente obtener un subconjunto específico de los datos.</p>
<p><img src="image-101.png" alt="alt text"></p>
<p><img src="image-102.png" alt="alt text"></p>
<p>Ejemplo práctico</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Conecta con la base de datos utilizando la configuración por defecto</span>
$db = \Config\Database::connect();

<span class="hljs-comment">// Obtiene el constructor de consultas para la tabla 'users'</span>
$builder = $db-&gt;table(<span class="hljs-string">'users'</span>);

<span class="hljs-comment">// Construye una consulta SELECT para obtener los campos 'id', 'name' y 'email' de la tabla 'users'</span>
<span class="hljs-comment">// Añade una condición WHERE para seleccionar solo los registros donde el 'status' sea 'active'</span>
<span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
<span class="hljs-comment">// Limita los resultados a un máximo de 10 filas</span>
$query = $builder-&gt;select(<span class="hljs-string">'id, name, email'</span>) <span class="hljs-comment">// Define las columnas a seleccionar</span>
                 -&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>) <span class="hljs-comment">// Agrega la condición WHERE</span>
                 -&gt;orderBy(<span class="hljs-string">'name'</span>, <span class="hljs-string">'ASC'</span>) <span class="hljs-comment">// Ordena los resultados por el campo 'name' en orden ascendente</span>
                 -&gt;limit(<span class="hljs-number">10</span>) <span class="hljs-comment">// Limita los resultados a 10 filas</span>
                 -&gt;get(); <span class="hljs-comment">// Ejecuta la consulta</span>

<span class="hljs-comment">// Ejecuta la consulta y obtiene los resultados como un array de objetos</span>
$results = $query-&gt;getResult();
</div></code></pre>
<p>La función limit es una herramienta esencial en el Query Builder de CodeIgniter 4 para gestionar la cantidad de datos recuperados por una consulta, proporcionando control y eficiencia en el manejo de resultados.</p>
<p>Ejemplo 2</p>
<p><img src="image-103.png" alt="alt text"></p>
<p><img src="image-104.png" alt="alt text"></p>
<h2 id="query-builder-y-sus-demas-funciones">Query Builder y sus demas funciones</h2>
<p>la Clase Query Builder contiene aun m,as funciones que se pueden consultar en la documentación oficial de CodeIgniter 4</p>
<p>aqui te mostare un resumen rapido de algunas que ya vimos y otras que uan faltan</p>
<p><img src="image-105.png" alt="alt text"></p>
<p><img src="image-106.png" alt="alt text"></p>
<p><img src="image-107.png" alt="alt text"></p>
<p><img src="image-108.png" alt="alt text"></p>
<p><img src="image-109.png" alt="alt text"></p>
<p><img src="image-110.png" alt="alt text"></p>
<p><img src="image-111.png" alt="alt text"></p>
<p><img src="image-112.png" alt="alt text"></p>
<p><img src="image-113.png" alt="alt text"></p>
<p><img src="image-114.png" alt="alt text"></p>
<p><img src="image-115.png" alt="alt text"></p>
<p><img src="image-116.png" alt="alt text"></p>
<p><img src="image-117.png" alt="alt text"></p>
<p><img src="image-118.png" alt="alt text"></p>
<p><img src="image-119.png" alt="alt text"></p>
<p><img src="image-120.png" alt="alt text"></p>
<p><img src="image-121.png" alt="alt text"></p>
<p><img src="image-122.png" alt="alt text"></p>
<p><img src="image-123.png" alt="alt text"></p>
<p><img src="image-124.png" alt="alt text"></p>
<p><img src="image-125.png" alt="alt text"></p>
<p><img src="image-126.png" alt="alt text"></p>
<pre class="hljs"><code><div>$count = $builder-&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>)-&gt;countAllResults();
</div></code></pre>
<p><img src="image-127.png" alt="alt text"></p>
<p><img src="image-128.png" alt="alt text"></p>
<pre class="hljs"><code><div>$builder-&gt;set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'John Doe'</span>)-&gt;set(<span class="hljs-string">'status'</span>, <span class="hljs-string">'active'</span>)-&gt;insert();
</div></code></pre>
<h2 id="join-conquery-builder">Join conQuery Builder</h2>
<p>Puede que requieras hacer un join de dos tablas y que en ambas tablas existan columnas llamadas con el mismo nombre;
lo que provocará posibles confusiones a la hora de interpretarse tu codigo. y por ejemplo si las dos tablas tiene una columna llamada nombre tienes que hacer uso de AS para asignar otro nombre
Por ejemplo</p>
<pre class="hljs"><code><div>$db = \Config\Database::connect();
        $builder = $db-&gt;table(<span class="hljs-string">'productos'</span>);
        $builder-&gt;select(<span class="hljs-string">'*'</span>);
        $builder-&gt;join(<span class="hljs-string">'almacen'</span>, <span class="hljs-string">'productos.id_almacen=almacen.idalmacen'</span>);
        $query = $builder-&gt;get();
        $resultado = $query-&gt;getResultArray();
        <span class="hljs-keyword">echo</span> $db-&gt;getLastQuery();
</div></code></pre>
<p><img src="image-129.png" alt="alt text"></p>
<p>con este select estamos trayendo toso los campos sin importar su nombre lo cual es malo
lo ideal es que hagas realices AS cuando los nombres de las columnas se repiten de esta manera</p>
<p><img src="image-130.png" alt="alt text"></p>
<p><img src="image-131.png" alt="alt text"></p>
<p>de esta manera estamos especificando que queremos cambiar el nombre de una columna llamada nombre ya que se repite la misma columna en la otra tabla.
Esto permite evitar confusiones a la hora de usar la respuesta de la query</p>
<h1 id="migrations-o-migraciones">Migrations o Migraciones</h1>
<h2 id="que-son-las-migraciones">Que son las migraciones</h2>
<p><img src="image-132.png" alt="alt text"></p>
<p>Se guardan dentro de</p>
<p>app/Database/Migrations</p>
<p>Se pueden generar de manera automática con spark y de manera manual</p>
<p>De manera automática</p>
<p><img src="image-133.png" alt="alt text"></p>
<p><img src="image-134.png" alt="alt text"></p>
<p>Como podemos observar en el nombre llevan un formato de fecha y hora el cual se debe respetar ya que el framework indexa estos archivos según sus fechas,</p>
<p>El formato para dichas fechas es ;</p>
<p><img src="image-135.png" alt="alt text"></p>
<p>Con esto el framework sabra en que orden ejecutar las migraciones</p>
<p>Estructura inicial</p>
<p><img src="image-136.png" alt="alt text"></p>
<p>La función up sirve para crear la estructura o hacer las modificaciones y que se ejecuten en tu base de datos</p>
<p>La función down sirve para revertir o hacer un rollback de las modificaciones que se hagan en up</p>
<p>Ejemplo</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// Declaración del namespace para la migración</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migrations</span>;
<span class="hljs-comment">// Importa la clase Migration de CodeIgniter</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migration</span>;

<span class="hljs-comment">// Definición de la clase CreaTablaCategorias que extiende de Migration</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreaTablaCategorias</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Migration</span>
</span>{
    <span class="hljs-comment">// Método up para crear la tabla 'categorias'</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Define los campos de la tabla 'categorias'</span>
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;addField([
            <span class="hljs-comment">// Campo 'id', entero, con auto incremento</span>
            <span class="hljs-string">'id'</span> =&gt; [
                <span class="hljs-string">'type'</span> =&gt; <span class="hljs-string">'INT'</span>, <span class="hljs-comment">// Tipo de dato entero</span>
                <span class="hljs-string">'constraint'</span> =&gt; <span class="hljs-number">11</span>, <span class="hljs-comment">// Longitud del campo</span>
                <span class="hljs-string">'auto_increment'</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-comment">// Auto incremento</span>
            ],
            <span class="hljs-comment">// Campo 'nombre', tipo varchar, longitud 100</span>
            <span class="hljs-string">'nombre'</span> =&gt; [
                <span class="hljs-string">'type'</span> =&gt; <span class="hljs-string">'VARCHAR'</span>, <span class="hljs-comment">// Tipo de dato cadena de texto</span>
                <span class="hljs-string">'constraint'</span> =&gt; <span class="hljs-number">100</span>, <span class="hljs-comment">// Longitud máxima de 100 caracteres</span>
            ]
        ]);

        <span class="hljs-comment">// Define la clave primaria de la tabla</span>
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;addKey(<span class="hljs-string">'id'</span>, <span class="hljs-keyword">true</span>); <span class="hljs-comment">// 'id' como clave primaria</span>

        <span class="hljs-comment">// Crea la tabla 'categorias' con los campos definidos</span>
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;createTable(<span class="hljs-string">'categorias'</span>);
    }

    <span class="hljs-comment">// Método down para eliminar la tabla 'categorias'</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">down</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Elimina la tabla 'categorias' si existe</span>
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;dropTable(<span class="hljs-string">'categorias'</span>);
    }
}
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<h2 id="c%C3%B3mo-ejecutar-una-migraci%C3%B3n">Cómo ejecutar una Migración</h2>
<p>Es posible ejecutar una Migracion desde un controlador con uso de una variable y un Try Catch</p>
<p>Ejemplo</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-comment">// Declaración del namespace para el controlador</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-comment">// Definición de la clase Home que extiende de BaseController</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Home</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseController</span>
</span>{
    <span class="hljs-comment">// Método index que será el punto de entrada cuando se accede al controlador</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Carga el servicio de migraciones de CodeIgniter</span>
        $migrate = \Config\Services::migrations();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// Intenta ejecutar las migraciones hasta la versión más reciente</span>
            $migrate-&gt;latest();
        } <span class="hljs-keyword">catch</span> (\Throwable $e) {
            <span class="hljs-comment">// Si ocurre una excepción, la captura y la muestra</span>
            <span class="hljs-keyword">echo</span> $e;
        }
    }
}
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<p>En este ejemplo se llama al servicio de migraciones y se ejecuta el método <code>latest()</code> que ejecuta la última migración disponible.</p>
<h2 id="migracion-para-crear-una-tabla-y-borrarla">Migracion para crear una tabla y borrarla</h2>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migrations</span>; <span class="hljs-comment">// Define el espacio de nombres para la migración</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migration</span>; <span class="hljs-comment">// Importa la clase Migration de CodeIgniter</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreaTablaCategorias</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Migration</span> // <span class="hljs-title">Define</span> <span class="hljs-title">una</span> <span class="hljs-title">nueva</span> <span class="hljs-title">clase</span> <span class="hljs-title">que</span> <span class="hljs-title">extiende</span> <span class="hljs-title">la</span> <span class="hljs-title">clase</span> <span class="hljs-title">Migration</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span> // <span class="hljs-title">M</span>é<span class="hljs-title">todo</span> <span class="hljs-title">que</span> <span class="hljs-title">se</span> <span class="hljs-title">ejecuta</span> <span class="hljs-title">al</span> <span class="hljs-title">aplicar</span> <span class="hljs-title">la</span> <span class="hljs-title">migraci</span>ó<span class="hljs-title">n</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;addField([ <span class="hljs-comment">// Añade campos a la tabla utilizando el objeto forge</span>
            <span class="hljs-string">'id'</span> =&gt; [ <span class="hljs-comment">// Define un campo 'id'</span>
                <span class="hljs-string">'type'</span> =&gt; <span class="hljs-string">'INT'</span>, <span class="hljs-comment">// El tipo de dato es entero</span>
                <span class="hljs-string">'constraint'</span> =&gt; <span class="hljs-number">11</span>, <span class="hljs-comment">// El tamaño del campo es 11</span>
                <span class="hljs-string">'auto_increment'</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-comment">// El campo es auto-incremental</span>
                <span class="hljs-string">'unsigned'</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-comment">// El campo no permite valores negativos</span>
            ],
            <span class="hljs-string">'nombre'</span> =&gt; [ <span class="hljs-comment">// Define un campo 'nombre'</span>
                <span class="hljs-string">'type'</span> =&gt; <span class="hljs-string">'VARCHAR'</span>, <span class="hljs-comment">// El tipo de dato es cadena de texto</span>
                <span class="hljs-string">'constraint'</span> =&gt; <span class="hljs-number">100</span>, <span class="hljs-comment">// El tamaño máximo es 100 caracteres</span>
            ],
        ]);
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;addKey(<span class="hljs-string">'id'</span>, <span class="hljs-keyword">true</span>); <span class="hljs-comment">// Establece 'id' como clave primaria</span>
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;createTable(<span class="hljs-string">'categorias'</span>); <span class="hljs-comment">// Crea la tabla 'categorias'</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">down</span><span class="hljs-params">()</span> // <span class="hljs-title">M</span>é<span class="hljs-title">todo</span> <span class="hljs-title">que</span> <span class="hljs-title">se</span> <span class="hljs-title">ejecuta</span> <span class="hljs-title">al</span> <span class="hljs-title">revertir</span> <span class="hljs-title">la</span> <span class="hljs-title">migraci</span>ó<span class="hljs-title">n</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;dropTable(<span class="hljs-string">'categorias'</span>); <span class="hljs-comment">// Elimina la tabla 'categorias'</span>
    }
}

</div></code></pre>
<h2 id="migraci%C3%B3n-para-modificar-la-tabla-agregar-una-columna-y-eliminar">Migración para Modificar la Tabla (Agregar una Columna y eliminar)</h2>
<p>Esta migración añade una nueva columna descripcion a la tabla categorias.</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migrations</span>; <span class="hljs-comment">// Define el espacio de nombres para la migración</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Migration</span>; <span class="hljs-comment">// Importa la clase Migration de CodeIgniter</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AgregaDescripcionACategorias</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Migration</span> // <span class="hljs-title">Define</span> <span class="hljs-title">una</span> <span class="hljs-title">nueva</span> <span class="hljs-title">clase</span> <span class="hljs-title">que</span> <span class="hljs-title">extiende</span> <span class="hljs-title">la</span> <span class="hljs-title">clase</span> <span class="hljs-title">Migration</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span> // <span class="hljs-title">M</span>é<span class="hljs-title">todo</span> <span class="hljs-title">que</span> <span class="hljs-title">se</span> <span class="hljs-title">ejecuta</span> <span class="hljs-title">al</span> <span class="hljs-title">aplicar</span> <span class="hljs-title">la</span> <span class="hljs-title">migraci</span>ó<span class="hljs-title">n</span>
    </span>{
        $fields = [ <span class="hljs-comment">// Define un array de campos para añadir a la tabla</span>
            <span class="hljs-string">'descripcion'</span> =&gt; [ <span class="hljs-comment">// Define un campo 'descripcion'</span>
                <span class="hljs-string">'type'</span> =&gt; <span class="hljs-string">'TEXT'</span>, <span class="hljs-comment">// El tipo de dato es texto</span>
                <span class="hljs-string">'null'</span> =&gt; <span class="hljs-keyword">true</span>, <span class="hljs-comment">// Permite valores nulos</span>
            ],
        ];
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;addColumn(<span class="hljs-string">'categorias'</span>, $fields); <span class="hljs-comment">// Añade el campo 'descripcion' a la tabla 'categorias'</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">down</span><span class="hljs-params">()</span> // <span class="hljs-title">M</span>é<span class="hljs-title">todo</span> <span class="hljs-title">que</span> <span class="hljs-title">se</span> <span class="hljs-title">ejecuta</span> <span class="hljs-title">al</span> <span class="hljs-title">revertir</span> <span class="hljs-title">la</span> <span class="hljs-title">migraci</span>ó<span class="hljs-title">n</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;forge-&gt;dropColumn(<span class="hljs-string">'categorias'</span>, <span class="hljs-string">'descripcion'</span>); <span class="hljs-comment">// Elimina el campo 'descripcion' de la tabla 'categorias'</span>
    }
}
</div></code></pre>
<h2 id="regresar-a-otra-migraci%C3%B3n">Regresar a otra migración</h2>
<p>Cuando utilizas migraciones</p>
<p><img src="image-139.png" alt="alt text"></p>
<p>En tu base de datos se te genera una tabla llamada migrations
para regresar a migraciones anteriores puedes utilizar en un controlador el comando</p>
<p><img src="image-137.png" alt="alt text"></p>
<p>esto te regresará a una migración anterior</p>
<h2 id="ejecutar-una-migracion-desde-consola">Ejecutar una migracion desde consola</h2>
<p><img src="image-138.png" alt="alt text"></p>
<p>con este comando ejecutas todas tus migraciones hasta la ultima o la mas reciente</p>
<p>Tambien es posible elegir a que migracion quieres egresar tu base de datos</p>
<p>esto con ayuda de la tabla migratios que se genera sola cuando utilizas una migraciones</p>
<p><img src="image-140.png" alt="alt text"></p>
<p>con la columna batch
y el comando</p>
<p><img src="image-141.png" alt="alt text"></p>
<p>siendo el 1 el numero de batch</p>
<p>si quieres regresar todas las migraciones puedes omitir poner -b (numerode batchs es decir)</p>
<p><img src="image-142.png" alt="alt text"></p>
<h1 id="seeders">Seeders</h1>
<p>Se utilizan para agregar grandes cantidades de información</p>
<p>los seeders son herramientas poderosas para poblar tu base de datos con datos de prueba. Estos scripts te permiten insertar rápidamente datos iniciales en tus tablas de base de datos, lo que es útil durante el desarrollo y las pruebas.</p>
<p>Los seeders en CodeIgniter 4 siguen el principio de &quot;sembrar&quot; datos, donde creas archivos PHP dedicados que contienen métodos para insertar datos en tus tablas. Puedes crear múltiples archivos de seeder para diferentes tablas o incluso para diferentes tipos de datos.</p>
<p>Una vez que hayas escrito tus seeders, puedes ejecutarlos usando la CLI de CodeIgniter para insertar los datos en tu base de datos. Esto facilita la creación y la gestión de datos de prueba, lo que a su vez acelera el proceso de desarrollo y pruebas de tu aplicación.</p>
<h2 id="donde-estan-los-seeders">Donde estan los seeders</h2>
<p>La carpeta contenedora de seeders por defecto en codeigniter es</p>
<p>app/Database/Seeds</p>
<h2 id="crear-seeders-desde-cli">crear seeders desde CLI</h2>
<p>Con ayuda de SPARK podemos ingresar el comando</p>
<pre class="hljs"><code><div>php spark <span class="hljs-built_in">make</span>:seeder NombreDelSeeder
</div></code></pre>
<h2 id="estructura-de-un-seeder">Estructura de un seeder</h2>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeds</span>; <span class="hljs-comment">// Define el namespace para la clase CategoriasSeeder en el directorio App\Database\Seeds.</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">CodeIgniter</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>; <span class="hljs-comment">// Importa la clase Seeder del namespace CodeIgniter\Database.</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CategoriasSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span> // <span class="hljs-title">Declara</span> <span class="hljs-title">la</span> <span class="hljs-title">clase</span> <span class="hljs-title">CategoriasSeeder</span> <span class="hljs-title">que</span> <span class="hljs-title">extiende</span> <span class="hljs-title">de</span> <span class="hljs-title">Seeder</span>.
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> // <span class="hljs-title">Define</span> <span class="hljs-title">el</span> <span class="hljs-title">m</span>é<span class="hljs-title">todo</span> <span class="hljs-title">run</span> <span class="hljs-title">que</span> <span class="hljs-title">se</span> <span class="hljs-title">ejecutar</span>á <span class="hljs-title">al</span> <span class="hljs-title">correr</span> <span class="hljs-title">el</span> <span class="hljs-title">seeder</span>.
    </span>{
        $dta = [ <span class="hljs-comment">// Define un array asociativo con los datos de la categoría a insertar en la base de datos.</span>
            <span class="hljs-string">'nombre'</span> =&gt; <span class="hljs-string">'bebidas'</span>, <span class="hljs-comment">// Asigna el valor 'bebidas' a la clave 'nombre'.</span>
        ];
        <span class="hljs-keyword">$this</span>-&gt;db-&gt;table(<span class="hljs-string">'categorias'</span>)-&gt;insertBatch($dta); <span class="hljs-comment">// Inserta los datos de la categoría en la tabla 'categorias' de la base de datos.</span>
    }
}
</div></code></pre>
<h2 id="ejecutar-seeder-con-cli-y-desde-un-controller">Ejecutar seeder con CLI y desde un controller</h2>
<p>Desde un controlador se instancia y se llama al metodo call</p>
<p><img src="image-143.png" alt="alt text"></p>
<p>Desde CLI</p>
<p><img src="image-144.png" alt="alt text"></p>
<h1 id="helpers">Helpers</h1>
<p>En CodeIgniter 4, los &quot;helpers&quot; son funciones globales que pueden ser utilizadas en todo el sistema sin necesidad de cargar una instancia de clase específica. Estas funciones son útiles para realizar tareas comunes de forma rápida y sencilla en tus aplicaciones. Los helpers están diseñados para proporcionar funcionalidades básicas que son necesarias en muchos proyectos web.</p>
<p>Algunos ejemplos de helpers en CodeIgniter 4 incluyen funciones para trabajar con arrays, strings, URLs, formularios, archivos, fechas, y más. Por ejemplo, puedes encontrar helpers como url_helper para generar URLs de forma dinámica, form_helper para crear y validar formularios, file_helper para trabajar con archivos, entre otros.</p>
<p>Puedes cargar un helper específico en tu controlador, modelo o vista utilizando el método helper() de la clase CodeIgniter\Functions\Functions. Por ejemplo:</p>
<pre class="hljs"><code><div>helper(<span class="hljs-string">'url'</span>); <span class="hljs-comment">// Carga el helper url_helper</span>

<span class="hljs-comment">// Ahora puedes usar las funciones del helper en cualquier parte del código</span>
<span class="hljs-keyword">echo</span> base_url(<span class="hljs-string">'controlador/metodo'</span>);
</div></code></pre>

</body>
</html>
